import br from"readline";import $r from"events";import xr from"fs";import un from"constants";import an from"stream";import Er from"util";import Or from"assert";import U from"path";import G from"node:path";import ge from"node:fs";import{fileURLToPath as ln}from"node:url";var He=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},hn=function(e,t){t||(t={});var r={bools:{},strings:{},unknownFn:null};typeof t.unknown=="function"&&(r.unknownFn=t.unknown),typeof t.boolean=="boolean"&&t.boolean?r.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(b){r.bools[b]=!0});var i={};Object.keys(t.alias||{}).forEach(function(b){i[b]=[].concat(t.alias[b]),i[b].forEach(function($){i[$]=[b].concat(i[b].filter(function(E){return $!==E}))})}),[].concat(t.string).filter(Boolean).forEach(function(b){r.strings[b]=!0,i[b]&&(r.strings[i[b]]=!0)});var s=t.default||{},u={_:[]};Object.keys(r.bools).forEach(function(b){a(b,s[b]===void 0?!1:s[b])});var n=[];e.indexOf("--")!==-1&&(n=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));function m(b,$){return r.allBools&&/^--[^=]+$/.test($)||r.strings[b]||r.bools[b]||i[b]}function a(b,$,E){if(!(E&&r.unknownFn&&!m(b,E)&&r.unknownFn(E)===!1)){var O=!r.strings[b]&&Pr($)?Number($):$;f(u,b.split("."),O),(i[b]||[]).forEach(function(P){f(u,P.split("."),O)})}}function f(b,$,E){for(var O=b,P=0;P<$.length-1;P++){var S=$[P];if(Tr(O,S))return;O[S]===void 0&&(O[S]={}),(O[S]===Object.prototype||O[S]===Number.prototype||O[S]===String.prototype)&&(O[S]={}),O[S]===Array.prototype&&(O[S]=[]),O=O[S]}var S=$[$.length-1];Tr(O,S)||((O===Object.prototype||O===Number.prototype||O===String.prototype)&&(O={}),O===Array.prototype&&(O=[]),O[S]===void 0||r.bools[S]||typeof O[S]=="boolean"?O[S]=E:Array.isArray(O[S])?O[S].push(E):O[S]=[O[S],E])}function o(b){return i[b].some(function($){return r.bools[$]})}for(var d=0;d<e.length;d++){var c=e[d];if(/^--.+=/.test(c)){var l=c.match(/^--([^=]+)=([\s\S]*)$/),h=l[1],v=l[2];r.bools[h]&&(v=v!=="false"),a(h,v,c)}else if(/^--no-.+/.test(c)){var h=c.match(/^--no-(.+)/)[1];a(h,!1,c)}else if(/^--.+/.test(c)){var h=c.match(/^--(.+)/)[1],y=e[d+1];y!==void 0&&!/^-/.test(y)&&!r.bools[h]&&!r.allBools&&(i[h]?!o(h):!0)?(a(h,y,c),d++):/^(true|false)$/.test(y)?(a(h,y==="true",c),d++):a(h,r.strings[h]?"":!0,c)}else if(/^-[^-]+/.test(c)){for(var p=c.slice(1,-1).split(""),g=!1,w=0;w<p.length;w++){var y=c.slice(w+2);if(y==="-"){a(p[w],y,c);continue}if(/[A-Za-z]/.test(p[w])&&/=/.test(y)){a(p[w],y.split("=")[1],c),g=!0;break}if(/[A-Za-z]/.test(p[w])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){a(p[w],y,c),g=!0;break}if(p[w+1]&&p[w+1].match(/\W/)){a(p[w],c.slice(w+2),c),g=!0;break}else a(p[w],r.strings[p[w]]?"":!0,c)}var h=c.slice(-1)[0];!g&&h!=="-"&&(e[d+1]&&!/^(-|--)[^-]/.test(e[d+1])&&!r.bools[h]&&(i[h]?!o(h):!0)?(a(h,e[d+1],c),d++):e[d+1]&&/^(true|false)$/.test(e[d+1])?(a(h,e[d+1]==="true",c),d++):a(h,r.strings[h]?"":!0,c))}else if((!r.unknownFn||r.unknownFn(c)!==!1)&&u._.push(r.strings._||!Pr(c)?c:Number(c)),t.stopEarly){u._.push.apply(u._,e.slice(d+1));break}}return Object.keys(s).forEach(function(b){cn(u,b.split("."))||(f(u,b.split("."),s[b]),(i[b]||[]).forEach(function($){f(u,$.split("."),s[b])}))}),t["--"]?(u["--"]=new Array,n.forEach(function(b){u["--"].push(b)})):n.forEach(function(b){u._.push(b)}),u};function cn(e,t){var r=e;t.slice(0,-1).forEach(function(s){r=r[s]||{}});var i=t[t.length-1];return i in r}function Pr(e){return typeof e=="number"||/^0x[0-9a-f]+$/i.test(e)?!0:/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}function Tr(e,t){return t==="constructor"&&typeof e[t]=="function"||t==="__proto__"}var Ve={},We,Mr;function N(){if(Mr)return We;Mr=1;const{FORCE_COLOR:e,NODE_DISABLE_COLORS:t,TERM:r}=process.env,i={enabled:!t&&r!=="dumb"&&e!=="0",reset:n(0,0),bold:n(1,22),dim:n(2,22),italic:n(3,23),underline:n(4,24),inverse:n(7,27),hidden:n(8,28),strikethrough:n(9,29),black:n(30,39),red:n(31,39),green:n(32,39),yellow:n(33,39),blue:n(34,39),magenta:n(35,39),cyan:n(36,39),white:n(37,39),gray:n(90,39),grey:n(90,39),bgBlack:n(40,49),bgRed:n(41,49),bgGreen:n(42,49),bgYellow:n(43,49),bgBlue:n(44,49),bgMagenta:n(45,49),bgCyan:n(46,49),bgWhite:n(47,49)};function s(m,a){let f=0,o,d="",c="";for(;f<m.length;f++)o=m[f],d+=o.open,c+=o.close,a.includes(o.close)&&(a=a.replace(o.rgx,o.close+o.open));return d+a+c}function u(m,a){let f={has:m,keys:a};return f.reset=i.reset.bind(f),f.bold=i.bold.bind(f),f.dim=i.dim.bind(f),f.italic=i.italic.bind(f),f.underline=i.underline.bind(f),f.inverse=i.inverse.bind(f),f.hidden=i.hidden.bind(f),f.strikethrough=i.strikethrough.bind(f),f.black=i.black.bind(f),f.red=i.red.bind(f),f.green=i.green.bind(f),f.yellow=i.yellow.bind(f),f.blue=i.blue.bind(f),f.magenta=i.magenta.bind(f),f.cyan=i.cyan.bind(f),f.white=i.white.bind(f),f.gray=i.gray.bind(f),f.grey=i.grey.bind(f),f.bgBlack=i.bgBlack.bind(f),f.bgRed=i.bgRed.bind(f),f.bgGreen=i.bgGreen.bind(f),f.bgYellow=i.bgYellow.bind(f),f.bgBlue=i.bgBlue.bind(f),f.bgMagenta=i.bgMagenta.bind(f),f.bgCyan=i.bgCyan.bind(f),f.bgWhite=i.bgWhite.bind(f),f}function n(m,a){let f={open:`\x1B[${m}m`,close:`\x1B[${a}m`,rgx:new RegExp(`\\x1b\\[${a}m`,"g")};return function(o){return this!==void 0&&this.has!==void 0?(this.has.includes(m)||(this.has.push(m),this.keys.push(f)),o===void 0?this:i.enabled?s(this.keys,o+""):o+""):o===void 0?u([m],[f]):i.enabled?s([f],o+""):o+""}}return We=i,We}var Be,Dr;function dn(){return Dr||(Dr=1,Be=(e,t)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(t){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),Be}var Je,_r;function Ue(){return _r||(_r=1,Je=e=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(t,"g");return typeof e=="string"?e.replace(r,""):e}),Je}var Ge,kr;function j(){if(kr)return Ge;kr=1;const e="\x1B",t=`${e}[`,r="\x07",i={to(n,m){return m?`${t}${m+1};${n+1}H`:`${t}${n+1}G`},move(n,m){let a="";return n<0?a+=`${t}${-n}D`:n>0&&(a+=`${t}${n}C`),m<0?a+=`${t}${-m}A`:m>0&&(a+=`${t}${m}B`),a},up:(n=1)=>`${t}${n}A`,down:(n=1)=>`${t}${n}B`,forward:(n=1)=>`${t}${n}C`,backward:(n=1)=>`${t}${n}D`,nextLine:(n=1)=>`${t}E`.repeat(n),prevLine:(n=1)=>`${t}F`.repeat(n),left:`${t}G`,hide:`${t}?25l`,show:`${t}?25h`,save:`${e}7`,restore:`${e}8`},s={up:(n=1)=>`${t}S`.repeat(n),down:(n=1)=>`${t}T`.repeat(n)},u={screen:`${t}2J`,up:(n=1)=>`${t}1J`.repeat(n),down:(n=1)=>`${t}J`.repeat(n),line:`${t}2K`,lineEnd:`${t}K`,lineStart:`${t}1K`,lines(n){let m="";for(let a=0;a<n;a++)m+=this.line+(a<n-1?i.up():"");return n&&(m+=i.left),m}};return Ge={cursor:i,scroll:s,erase:u,beep:r},Ge}var Ke,Cr;function fn(){if(Cr)return Ke;Cr=1;function e(a,f){var o=typeof Symbol<"u"&&a[Symbol.iterator]||a["@@iterator"];if(!o){if(Array.isArray(a)||(o=t(a))||f&&a&&typeof a.length=="number"){o&&(a=o);var d=0,c=function(){};return{s:c,n:function(){return d>=a.length?{done:!0}:{done:!1,value:a[d++]}},e:function(p){throw p},f:c}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l=!0,h=!1,v;return{s:function(){o=o.call(a)},n:function(){var p=o.next();return l=p.done,p},e:function(p){h=!0,v=p},f:function(){try{!l&&o.return!=null&&o.return()}finally{if(h)throw v}}}}function t(a,f){if(!!a){if(typeof a=="string")return r(a,f);var o=Object.prototype.toString.call(a).slice(8,-1);if(o==="Object"&&a.constructor&&(o=a.constructor.name),o==="Map"||o==="Set")return Array.from(a);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(a,f)}}function r(a,f){(f==null||f>a.length)&&(f=a.length);for(var o=0,d=new Array(f);o<f;o++)d[o]=a[o];return d}const i=Ue(),s=j(),u=s.erase,n=s.cursor,m=a=>[...i(a)].length;return Ke=function(a,f){if(!f)return u.line+n.to(0);let o=0;const d=a.split(/\r?\n/);var c=e(d),l;try{for(c.s();!(l=c.n()).done;){let h=l.value;o+=1+Math.floor(Math.max(m(h)-1,0)/f)}}catch(h){c.e(h)}finally{c.f()}return u.lines(o)},Ke}var ze,Rr;function Fr(){if(Rr)return ze;Rr=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},t={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return ze=process.platform==="win32"?t:e,ze}var Ze,Ir;function mn(){if(Ir)return Ze;Ir=1;const e=N(),t=Fr(),r=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\u{1F603}".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),i=a=>r[a]||r.default,s=Object.freeze({aborted:e.red(t.cross),done:e.green(t.tick),exited:e.yellow(t.cross),default:e.cyan("?")});return Ze={styles:r,render:i,symbols:s,symbol:(a,f,o)=>f?s.aborted:o?s.exited:a?s.done:s.default,delimiter:a=>e.gray(a?t.ellipsis:t.pointerSmall),item:(a,f)=>e.gray(a?f?t.pointerSmall:"+":t.line)},Ze}var Xe,qr;function pn(){if(qr)return Xe;qr=1;const e=Ue();return Xe=function(t,r){let i=String(e(t)||"").split(/\r?\n/);return r?i.map(s=>Math.ceil(s.length/r)).reduce((s,u)=>s+u):i.length},Xe}var Qe,Ar;function yn(){return Ar||(Ar=1,Qe=(e,t={})=>{const r=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",i=t.width;return(e||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((u,n)=>(n.length+r.length>=i||u[u.length-1].length+n.length+1<i?u[u.length-1]+=` ${n}`:u.push(`${r}${n}`),u),[r]).join(`
`)).join(`
`)}),Qe}var et,Nr;function gn(){return Nr||(Nr=1,et=(e,t,r)=>{r=r||t;let i=Math.min(t-r,e-Math.floor(r/2));i<0&&(i=0);let s=Math.min(i+r,t);return{startIndex:i,endIndex:s}}),et}var tt,jr;function z(){return jr||(jr=1,tt={action:dn(),clear:fn(),style:mn(),strip:Ue(),figures:Fr(),lines:pn(),wrap:yn(),entriesToDisplay:gn()}),tt}var rt,Lr;function te(){if(Lr)return rt;Lr=1;const e=br,t=z(),r=t.action,i=$r,s=j(),u=s.beep,n=s.cursor,m=N();class a extends i{constructor(o={}){super(),this.firstRender=!0,this.in=o.stdin||process.stdin,this.out=o.stdout||process.stdout,this.onRender=(o.onRender||(()=>{})).bind(this);const d=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,d),this.in.isTTY&&this.in.setRawMode(!0);const c=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,l=(h,v)=>{let y=r(v,c);y===!1?this._&&this._(h,v):typeof this[y]=="function"?this[y](v):this.bell()};this.close=()=>{this.out.write(n.show),this.in.removeListener("keypress",l),this.in.isTTY&&this.in.setRawMode(!1),d.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",l)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(u)}render(){this.onRender(m),this.firstRender&&(this.firstRender=!1)}}return rt=a,rt}var it,Yr;function vn(){if(Yr)return it;Yr=1;function e(l,h,v,y,p,g,w){try{var b=l[g](w),$=b.value}catch(E){v(E);return}b.done?h($):Promise.resolve($).then(y,p)}function t(l){return function(){var h=this,v=arguments;return new Promise(function(y,p){var g=l.apply(h,v);function w($){e(g,y,p,w,b,"next",$)}function b($){e(g,y,p,w,b,"throw",$)}w(void 0)})}}const r=N(),i=te(),s=j(),u=s.erase,n=s.cursor,m=z(),a=m.style,f=m.clear,o=m.lines,d=m.figures;class c extends i{constructor(h={}){super(h),this.transform=a.render(h.style),this.scale=this.transform.scale,this.msg=h.message,this.initial=h.initial||"",this.validator=h.validate||(()=>!0),this.value="",this.errorMsg=h.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=f("",this.out.columns),this.render()}set value(h){!h&&this.initial?(this.placeholder=!0,this.rendered=r.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(h)),this._value=h,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var h=this;return t(function*(){let v=yield h.validator(h.value);typeof v=="string"&&(h.errorMsg=v,v=!1),h.error=!v})()}submit(){var h=this;return t(function*(){if(h.value=h.value||h.initial,h.cursorOffset=0,h.cursor=h.rendered.length,yield h.validate(),h.error){h.red=!0,h.fire(),h.render();return}h.done=!0,h.aborted=!1,h.fire(),h.render(),h.out.write(`
`),h.close()})()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(h){this.placeholder||(this.cursor=this.cursor+h,this.cursorOffset+=h)}_(h,v){let y=this.value.slice(0,this.cursor),p=this.value.slice(this.cursor);this.value=`${y}${h}${p}`,this.red=!1,this.cursor=this.placeholder?0:y.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let h=this.value.slice(0,this.cursor-1),v=this.value.slice(this.cursor);this.value=`${h}${v}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let h=this.value.slice(0,this.cursor),v=this.value.slice(this.cursor+1);this.value=`${h}${v}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(n.down(o(this.outputError,this.out.columns)-1)+f(this.outputError,this.out.columns)),this.out.write(f(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),r.bold(this.msg),a.delimiter(this.done),this.red?r.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((h,v,y)=>h+`
${y?" ":d.pointerSmall} ${r.red().italic(v)}`,"")),this.out.write(u.line+n.to(0)+this.outputText+n.save+this.outputError+n.restore+n.move(this.cursorOffset,0)))}}return it=c,it}var st,Hr;function wn(){if(Hr)return st;Hr=1;const e=N(),t=te(),r=z(),i=r.style,s=r.clear,u=r.figures,n=r.wrap,m=r.entriesToDisplay,a=j(),f=a.cursor;class o extends t{constructor(c={}){super(c),this.msg=c.message,this.hint=c.hint||"- Use arrow-keys. Return to submit.",this.warn=c.warn||"- This option is disabled",this.cursor=c.initial||0,this.choices=c.choices.map((l,h)=>(typeof l=="string"&&(l={title:l,value:h}),{title:l&&(l.title||l.value||l),value:l&&(l.value===void 0?h:l.value),description:l&&l.description,selected:l&&l.selected,disabled:l&&l.disabled})),this.optionsPerPage=c.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=s("",this.out.columns),this.render()}moveCursor(c){this.cursor=c,this.value=this.choices[c].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(c,l){if(c===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(f.hide):this.out.write(s(this.outputText,this.out.columns)),super.render();let c=m(this.cursor,this.choices.length,this.optionsPerPage),l=c.startIndex,h=c.endIndex;if(this.outputText=[i.symbol(this.done,this.aborted),e.bold(this.msg),i.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let v=l;v<h;v++){let y,p,g="",w=this.choices[v];v===l&&l>0?p=u.arrowUp:v===h-1&&h<this.choices.length?p=u.arrowDown:p=" ",w.disabled?(y=this.cursor===v?e.gray().underline(w.title):e.strikethrough().gray(w.title),p=(this.cursor===v?e.bold().gray(u.pointer)+" ":"  ")+p):(y=this.cursor===v?e.cyan().underline(w.title):w.title,p=(this.cursor===v?e.cyan(u.pointer)+" ":"  ")+p,w.description&&this.cursor===v&&(g=` - ${w.description}`,(p.length+y.length+g.length>=this.out.columns||w.description.split(/\r?\n/).length>1)&&(g=`
`+n(w.description,{margin:3,width:this.out.columns})))),this.outputText+=`${p} ${y}${e.gray(g)}
`}}this.out.write(this.outputText)}}return st=o,st}var nt,Vr;function Sn(){if(Vr)return nt;Vr=1;const e=N(),t=te(),r=z(),i=r.style,s=r.clear,u=j(),n=u.cursor,m=u.erase;class a extends t{constructor(o={}){super(o),this.msg=o.message,this.value=!!o.initial,this.active=o.active||"on",this.inactive=o.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(o,d){if(o===" ")this.value=!this.value;else if(o==="1")this.value=!0;else if(o==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),e.bold(this.msg),i.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(m.line+n.to(0)+this.outputText))}}return nt=a,nt}var ot,Wr;function Q(){if(Wr)return ot;Wr=1;class e{constructor({token:r,date:i,parts:s,locales:u}){this.token=r,this.date=i||new Date,this.parts=s||[this],this.locales=u||{}}up(){}down(){}next(){const r=this.parts.indexOf(this);return this.parts.find((i,s)=>s>r&&i instanceof e)}setTo(r){}prev(){let r=[].concat(this.parts).reverse();const i=r.indexOf(this);return r.find((s,u)=>u>i&&s instanceof e)}toString(){return String(this.date)}}return ot=e,ot}var ut,Br;function bn(){if(Br)return ut;Br=1;const e=Q();class t extends e{constructor(i={}){super(i)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let i=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?i.toUpperCase():i}}return ut=t,ut}var at,Jr;function $n(){if(Jr)return at;Jr=1;const e=Q(),t=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th");class r extends e{constructor(s={}){super(s)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(s){this.date.setDate(parseInt(s.substr(-2)))}toString(){let s=this.date.getDate(),u=this.date.getDay();return this.token==="DD"?String(s).padStart(2,"0"):this.token==="Do"?s+t(s):this.token==="d"?u+1:this.token==="ddd"?this.locales.weekdaysShort[u]:this.token==="dddd"?this.locales.weekdays[u]:s}}return at=r,at}var lt,Ur;function xn(){if(Ur)return lt;Ur=1;const e=Q();class t extends e{constructor(i={}){super(i)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(i){this.date.setHours(parseInt(i.substr(-2)))}toString(){let i=this.date.getHours();return/h/.test(this.token)&&(i=i%12||12),this.token.length>1?String(i).padStart(2,"0"):i}}return lt=t,lt}var ht,Gr;function En(){if(Gr)return ht;Gr=1;const e=Q();class t extends e{constructor(i={}){super(i)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(i){this.date.setMilliseconds(parseInt(i.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return ht=t,ht}var ct,Kr;function On(){if(Kr)return ct;Kr=1;const e=Q();class t extends e{constructor(i={}){super(i)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(i){this.date.setMinutes(parseInt(i.substr(-2)))}toString(){let i=this.date.getMinutes();return this.token.length>1?String(i).padStart(2,"0"):i}}return ct=t,ct}var dt,zr;function Pn(){if(zr)return dt;zr=1;const e=Q();class t extends e{constructor(i={}){super(i)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(i){i=parseInt(i.substr(-2))-1,this.date.setMonth(i<0?0:i)}toString(){let i=this.date.getMonth(),s=this.token.length;return s===2?String(i+1).padStart(2,"0"):s===3?this.locales.monthsShort[i]:s===4?this.locales.months[i]:String(i+1)}}return dt=t,dt}var ft,Zr;function Tn(){if(Zr)return ft;Zr=1;const e=Q();class t extends e{constructor(i={}){super(i)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(i){this.date.setSeconds(parseInt(i.substr(-2)))}toString(){let i=this.date.getSeconds();return this.token.length>1?String(i).padStart(2,"0"):i}}return ft=t,ft}var mt,Xr;function Mn(){if(Xr)return mt;Xr=1;const e=Q();class t extends e{constructor(i={}){super(i)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(i){this.date.setFullYear(i.substr(-4))}toString(){let i=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?i.substr(-2):i}}return mt=t,mt}var pt,Qr;function Dn(){return Qr||(Qr=1,pt={DatePart:Q(),Meridiem:bn(),Day:$n(),Hours:xn(),Milliseconds:En(),Minutes:On(),Month:Pn(),Seconds:Tn(),Year:Mn()}),pt}var yt,ei;function _n(){if(ei)return yt;ei=1;function e(S,x,T,R,_,k,C){try{var D=S[k](C),M=D.value}catch(q){T(q);return}D.done?x(M):Promise.resolve(M).then(R,_)}function t(S){return function(){var x=this,T=arguments;return new Promise(function(R,_){var k=S.apply(x,T);function C(M){e(k,R,_,C,D,"next",M)}function D(M){e(k,R,_,C,D,"throw",M)}C(void 0)})}}const r=N(),i=te(),s=z(),u=s.style,n=s.clear,m=s.figures,a=j(),f=a.erase,o=a.cursor,d=Dn(),c=d.DatePart,l=d.Meridiem,h=d.Day,v=d.Hours,y=d.Milliseconds,p=d.Minutes,g=d.Month,w=d.Seconds,b=d.Year,$=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,E={1:({token:S})=>S.replace(/\\(.)/g,"$1"),2:S=>new h(S),3:S=>new g(S),4:S=>new b(S),5:S=>new l(S),6:S=>new v(S),7:S=>new p(S),8:S=>new w(S),9:S=>new y(S)},O={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class P extends i{constructor(x={}){super(x),this.msg=x.message,this.cursor=0,this.typed="",this.locales=Object.assign(O,x.locales),this._date=x.initial||new Date,this.errorMsg=x.error||"Please Enter A Valid Value",this.validator=x.validate||(()=>!0),this.mask=x.mask||"YYYY-MM-DD HH:mm:ss",this.clear=n("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date(x){x&&this._date.setTime(x.getTime())}set mask(x){let T;for(this.parts=[];T=$.exec(x);){let _=T.shift(),k=T.findIndex(C=>C!=null);this.parts.push(k in E?E[k]({token:T[k]||_,date:this.date,parts:this.parts,locales:this.locales}):T[k]||_)}let R=this.parts.reduce((_,k)=>(typeof k=="string"&&typeof _[_.length-1]=="string"?_[_.length-1]+=k:_.push(k),_),[]);this.parts.splice(0),this.parts.push(...R),this.reset()}moveCursor(x){this.typed="",this.cursor=x,this.fire()}reset(){this.moveCursor(this.parts.findIndex(x=>x instanceof c)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var x=this;return t(function*(){let T=yield x.validator(x.value);typeof T=="string"&&(x.errorMsg=T,T=!1),x.error=!T})()}submit(){var x=this;return t(function*(){if(yield x.validate(),x.error){x.color="red",x.fire(),x.render();return}x.done=!0,x.aborted=!1,x.fire(),x.render(),x.out.write(`
`),x.close()})()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let x=this.parts[this.cursor].prev();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}right(){let x=this.parts[this.cursor].next();if(x==null)return this.bell();this.moveCursor(this.parts.indexOf(x)),this.render()}next(){let x=this.parts[this.cursor].next();this.moveCursor(x?this.parts.indexOf(x):this.parts.findIndex(T=>T instanceof c)),this.render()}_(x){/\d/.test(x)&&(this.typed+=x,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(o.hide):this.out.write(n(this.outputText,this.out.columns)),super.render(),this.outputText=[u.symbol(this.done,this.aborted),r.bold(this.msg),u.delimiter(!1),this.parts.reduce((x,T,R)=>x.concat(R===this.cursor&&!this.done?r.cyan().underline(T.toString()):T),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce((x,T,R)=>x+`
${R?" ":m.pointerSmall} ${r.red().italic(T)}`,"")),this.out.write(f.line+o.to(0)+this.outputText))}}return yt=P,yt}var gt,ti;function kn(){if(ti)return gt;ti=1;function e(y,p,g,w,b,$,E){try{var O=y[$](E),P=O.value}catch(S){g(S);return}O.done?p(P):Promise.resolve(P).then(w,b)}function t(y){return function(){var p=this,g=arguments;return new Promise(function(w,b){var $=y.apply(p,g);function E(P){e($,w,b,E,O,"next",P)}function O(P){e($,w,b,E,O,"throw",P)}E(void 0)})}}const r=N(),i=te(),s=j(),u=s.cursor,n=s.erase,m=z(),a=m.style,f=m.figures,o=m.clear,d=m.lines,c=/[0-9]/,l=y=>y!==void 0,h=(y,p)=>{let g=Math.pow(10,p);return Math.round(y*g)/g};class v extends i{constructor(p={}){super(p),this.transform=a.render(p.style),this.msg=p.message,this.initial=l(p.initial)?p.initial:"",this.float=!!p.float,this.round=p.round||2,this.inc=p.increment||1,this.min=l(p.min)?p.min:-1/0,this.max=l(p.max)?p.max:1/0,this.errorMsg=p.error||"Please Enter A Valid Value",this.validator=p.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(p){!p&&p!==0?(this.placeholder=!0,this.rendered=r.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${h(p,this.round)}`),this._value=h(p,this.round)),this.fire()}get value(){return this._value}parse(p){return this.float?parseFloat(p):parseInt(p)}valid(p){return p==="-"||p==="."&&this.float||c.test(p)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let p=this.value;this.value=p!==""?p:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}validate(){var p=this;return t(function*(){let g=yield p.validator(p.value);typeof g=="string"&&(p.errorMsg=g,g=!1),p.error=!g})()}submit(){var p=this;return t(function*(){if(yield p.validate(),p.error){p.color="red",p.fire(),p.render();return}let g=p.value;p.value=g!==""?g:p.initial,p.done=!0,p.aborted=!1,p.error=!1,p.fire(),p.render(),p.out.write(`
`),p.close()})()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let p=this.value.toString();if(p.length===0)return this.bell();this.value=this.parse(p=p.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(p,g){if(!this.valid(p))return this.bell();const w=Date.now();if(w-this.lastHit>1e3&&(this.typed=""),this.typed+=p,this.lastHit=w,this.color="cyan",p===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(u.down(d(this.outputError,this.out.columns)-1)+o(this.outputError,this.out.columns)),this.out.write(o(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[a.symbol(this.done,this.aborted),r.bold(this.msg),a.delimiter(this.done),!this.done||!this.done&&!this.placeholder?r[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((p,g,w)=>p+`
${w?" ":f.pointerSmall} ${r.red().italic(g)}`,"")),this.out.write(n.line+u.to(0)+this.outputText+u.save+this.outputError+u.restore))}}return gt=v,gt}var vt,ri;function ii(){if(ri)return vt;ri=1;const e=N(),t=j(),r=t.cursor,i=te(),s=z(),u=s.clear,n=s.figures,m=s.style,a=s.wrap,f=s.entriesToDisplay;class o extends i{constructor(c={}){super(c),this.msg=c.message,this.cursor=c.cursor||0,this.scrollIndex=c.cursor||0,this.hint=c.hint||"",this.warn=c.warn||"- This option is disabled -",this.minSelected=c.min,this.showMinError=!1,this.maxChoices=c.max,this.instructions=c.instructions,this.optionsPerPage=c.optionsPerPage||10,this.value=c.choices.map((l,h)=>(typeof l=="string"&&(l={title:l,value:h}),{title:l&&(l.title||l.value||l),description:l&&l.description,value:l&&(l.value===void 0?h:l.value),selected:l&&l.selected,disabled:l&&l.disabled})),this.clear=u("",this.out.columns),c.overrideRender||this.render()}reset(){this.value.map(c=>!c.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(c=>c.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const c=this.value.filter(l=>l.selected);this.minSelected&&c.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(c=>c.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const c=this.value[this.cursor];if(c.selected)c.selected=!1,this.render();else{if(c.disabled||this.value.filter(l=>l.selected).length>=this.maxChoices)return this.bell();c.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const c=!this.value[this.cursor].selected;this.value.filter(l=>!l.disabled).forEach(l=>l.selected=c),this.render()}_(c,l){if(c===" ")this.handleSpaceToggle();else if(c==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${n.arrowUp}/${n.arrowDown}: Highlight option
    ${n.arrowLeft}/${n.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(c,l,h,v){const y=(l.selected?e.green(n.radioOn):n.radioOff)+" "+v+" ";let p,g;return l.disabled?p=c===h?e.gray().underline(l.title):e.strikethrough().gray(l.title):(p=c===h?e.cyan().underline(l.title):l.title,c===h&&l.description&&(g=` - ${l.description}`,(y.length+p.length+g.length>=this.out.columns||l.description.split(/\r?\n/).length>1)&&(g=`
`+a(l.description,{margin:y.length,width:this.out.columns})))),y+p+e.gray(g||"")}paginateOptions(c){if(c.length===0)return e.red("No matches for this query.");let l=f(this.cursor,c.length,this.optionsPerPage),h=l.startIndex,v=l.endIndex,y,p=[];for(let g=h;g<v;g++)g===h&&h>0?y=n.arrowUp:g===v-1&&v<c.length?y=n.arrowDown:y=" ",p.push(this.renderOption(this.cursor,c[g],g,y));return`
`+p.join(`
`)}renderOptions(c){return this.done?"":this.paginateOptions(c)}renderDoneOrInstructions(){if(this.done)return this.value.filter(l=>l.selected).map(l=>l.title).join(", ");const c=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&c.push(e.yellow(this.warn)),c.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let c=[m.symbol(this.done,this.aborted),e.bold(this.msg),m.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(c+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),c+=this.renderOptions(this.value),this.out.write(this.clear+c),this.clear=u(c,this.out.columns)}}return vt=o,vt}var wt,si;function Cn(){if(si)return wt;si=1;function e(p,g,w,b,$,E,O){try{var P=p[E](O),S=P.value}catch(x){w(x);return}P.done?g(S):Promise.resolve(S).then(b,$)}function t(p){return function(){var g=this,w=arguments;return new Promise(function(b,$){var E=p.apply(g,w);function O(S){e(E,b,$,O,P,"next",S)}function P(S){e(E,b,$,O,P,"throw",S)}O(void 0)})}}const r=N(),i=te(),s=j(),u=s.erase,n=s.cursor,m=z(),a=m.style,f=m.clear,o=m.figures,d=m.wrap,c=m.entriesToDisplay,l=(p,g)=>p[g]&&(p[g].value||p[g].title||p[g]),h=(p,g)=>p[g]&&(p[g].title||p[g].value||p[g]),v=(p,g)=>{const w=p.findIndex(b=>b.value===g||b.title===g);return w>-1?w:void 0};class y extends i{constructor(g={}){super(g),this.msg=g.message,this.suggest=g.suggest,this.choices=g.choices,this.initial=typeof g.initial=="number"?g.initial:v(g.choices,g.initial),this.select=this.initial||g.cursor||0,this.i18n={noMatches:g.noMatches||"no matches found"},this.fallback=g.fallback||this.initial,this.clearFirst=g.clearFirst||!1,this.suggestions=[],this.input="",this.limit=g.limit||10,this.cursor=0,this.transform=a.render(g.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=f("",this.out.columns),this.complete(this.render),this.render()}set fallback(g){this._fb=Number.isSafeInteger(parseInt(g))?parseInt(g):g}get fallback(){let g;return typeof this._fb=="number"?g=this.choices[this._fb]:typeof this._fb=="string"&&(g={title:this._fb}),g||this._fb||{title:this.i18n.noMatches}}moveSelect(g){this.select=g,this.suggestions.length>0?this.value=l(this.suggestions,g):this.value=this.fallback.value,this.fire()}complete(g){var w=this;return t(function*(){const b=w.completing=w.suggest(w.input,w.choices),$=yield b;if(w.completing!==b)return;w.suggestions=$.map((O,P,S)=>({title:h(S,P),value:l(S,P),description:O.description})),w.completing=!1;const E=Math.max($.length-1,0);w.moveSelect(Math.min(E,w.select)),g&&g()})()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(g,w){let b=this.input.slice(0,this.cursor),$=this.input.slice(this.cursor);this.input=`${b}${g}${$}`,this.cursor=b.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let g=this.input.slice(0,this.cursor-1),w=this.input.slice(this.cursor);this.input=`${g}${w}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let g=this.input.slice(0,this.cursor),w=this.input.slice(this.cursor+1);this.input=`${g}${w}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(g,w,b,$){let E,O=b?o.arrowUp:$?o.arrowDown:" ",P=w?r.cyan().underline(g.title):g.title;return O=(w?r.cyan(o.pointer)+" ":"  ")+O,g.description&&(E=` - ${g.description}`,(O.length+P.length+E.length>=this.out.columns||g.description.split(/\r?\n/).length>1)&&(E=`
`+d(g.description,{margin:3,width:this.out.columns}))),O+" "+P+r.gray(E||"")}render(){if(this.closed)return;this.firstRender?this.out.write(n.hide):this.out.write(f(this.outputText,this.out.columns)),super.render();let g=c(this.select,this.choices.length,this.limit),w=g.startIndex,b=g.endIndex;if(this.outputText=[a.symbol(this.done,this.aborted,this.exited),r.bold(this.msg),a.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const $=this.suggestions.slice(w,b).map((E,O)=>this.renderOption(E,this.select===O+w,O===0&&w>0,O+w===b-1&&b<this.choices.length)).join(`
`);this.outputText+=`
`+($||r.gray(this.fallback.title))}this.out.write(u.line+n.to(0)+this.outputText)}}return wt=y,wt}var St,ni;function Rn(){if(ni)return St;ni=1;const e=N(),t=j(),r=t.cursor,i=ii(),s=z(),u=s.clear,n=s.style,m=s.figures;class a extends i{constructor(o={}){o.overrideRender=!0,super(o),this.inputValue="",this.clear=u("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const o=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(c=>this.inputValue?!!(typeof c.title=="string"&&c.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof c.value=="string"&&c.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const d=this.filteredOptions.findIndex(c=>c===o);this.cursor=d<0?0:d,this.render()}handleSpaceToggle(){const o=this.filteredOptions[this.cursor];if(o.selected)o.selected=!1,this.render();else{if(o.disabled||this.value.filter(d=>d.selected).length>=this.maxChoices)return this.bell();o.selected=!0,this.render()}}handleInputChange(o){this.inputValue=this.inputValue+o,this.updateFilteredOptions()}_(o,d){o===" "?this.handleSpaceToggle():this.handleInputChange(o)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${m.arrowUp}/${m.arrowDown}: Highlight option
    ${m.arrowLeft}/${m.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(o,d,c){let l;return d.disabled?l=o===c?e.gray().underline(d.title):e.strikethrough().gray(d.title):l=o===c?e.cyan().underline(d.title):d.title,(d.selected?e.green(m.radioOn):m.radioOff)+"  "+l}renderDoneOrInstructions(){if(this.done)return this.value.filter(d=>d.selected).map(d=>d.title).join(", ");const o=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&o.push(e.yellow(this.warn)),o.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(r.hide),super.render();let o=[n.symbol(this.done,this.aborted),e.bold(this.msg),n.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(o+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),o+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+o),this.clear=u(o,this.out.columns)}}return St=a,St}var bt,oi;function Fn(){if(oi)return bt;oi=1;const e=N(),t=te(),r=z(),i=r.style,s=r.clear,u=j(),n=u.erase,m=u.cursor;class a extends t{constructor(o={}){super(o),this.msg=o.message,this.value=o.initial,this.initialValue=!!o.initial,this.yesMsg=o.yes||"yes",this.yesOption=o.yesOption||"(Y/n)",this.noMsg=o.no||"no",this.noOption=o.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(o,d){return o.toLowerCase()==="y"?(this.value=!0,this.submit()):o.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(m.hide):this.out.write(s(this.outputText,this.out.columns)),super.render(),this.outputText=[i.symbol(this.done,this.aborted),e.bold(this.msg),i.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(n.line+m.to(0)+this.outputText))}}return bt=a,bt}var $t,ui;function In(){return ui||(ui=1,$t={TextPrompt:vn(),SelectPrompt:wn(),TogglePrompt:Sn(),DatePrompt:_n(),NumberPrompt:kn(),MultiselectPrompt:ii(),AutocompletePrompt:Cn(),AutocompleteMultiselectPrompt:Rn(),ConfirmPrompt:Fn()}),$t}var ai;function qn(){return ai||(ai=1,function(e){const t=e,r=In(),i=n=>n;function s(n,m,a={}){return new Promise((f,o)=>{const d=new r[n](m),c=a.onAbort||i,l=a.onSubmit||i,h=a.onExit||i;d.on("state",m.onState||i),d.on("submit",v=>f(l(v))),d.on("exit",v=>f(h(v))),d.on("abort",v=>o(c(v)))})}t.text=n=>s("TextPrompt",n),t.password=n=>(n.style="password",t.text(n)),t.invisible=n=>(n.style="invisible",t.text(n)),t.number=n=>s("NumberPrompt",n),t.date=n=>s("DatePrompt",n),t.confirm=n=>s("ConfirmPrompt",n),t.list=n=>{const m=n.separator||",";return s("TextPrompt",n,{onSubmit:a=>a.split(m).map(f=>f.trim())})},t.toggle=n=>s("TogglePrompt",n),t.select=n=>s("SelectPrompt",n),t.multiselect=n=>{n.choices=[].concat(n.choices||[]);const m=a=>a.filter(f=>f.selected).map(f=>f.value);return s("MultiselectPrompt",n,{onAbort:m,onSubmit:m})},t.autocompleteMultiselect=n=>{n.choices=[].concat(n.choices||[]);const m=a=>a.filter(f=>f.selected).map(f=>f.value);return s("AutocompleteMultiselectPrompt",n,{onAbort:m,onSubmit:m})};const u=(n,m)=>Promise.resolve(m.filter(a=>a.title.slice(0,n.length).toLowerCase()===n.toLowerCase()));t.autocomplete=n=>(n.suggest=n.suggest||u,n.choices=[].concat(n.choices||[]),s("AutocompletePrompt",n))}(Ve)),Ve}var xt,li;function An(){if(li)return xt;li=1;function e(y,p){var g=Object.keys(y);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(y);p&&(w=w.filter(function(b){return Object.getOwnPropertyDescriptor(y,b).enumerable})),g.push.apply(g,w)}return g}function t(y){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?e(Object(g),!0).forEach(function(w){r(y,w,g[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(g)):e(Object(g)).forEach(function(w){Object.defineProperty(y,w,Object.getOwnPropertyDescriptor(g,w))})}return y}function r(y,p,g){return p in y?Object.defineProperty(y,p,{value:g,enumerable:!0,configurable:!0,writable:!0}):y[p]=g,y}function i(y,p){var g=typeof Symbol<"u"&&y[Symbol.iterator]||y["@@iterator"];if(!g){if(Array.isArray(y)||(g=s(y))||p&&y&&typeof y.length=="number"){g&&(y=g);var w=0,b=function(){};return{s:b,n:function(){return w>=y.length?{done:!0}:{done:!1,value:y[w++]}},e:function(S){throw S},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var $=!0,E=!1,O;return{s:function(){g=g.call(y)},n:function(){var S=g.next();return $=S.done,S},e:function(S){E=!0,O=S},f:function(){try{!$&&g.return!=null&&g.return()}finally{if(E)throw O}}}}function s(y,p){if(!!y){if(typeof y=="string")return u(y,p);var g=Object.prototype.toString.call(y).slice(8,-1);if(g==="Object"&&y.constructor&&(g=y.constructor.name),g==="Map"||g==="Set")return Array.from(y);if(g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g))return u(y,p)}}function u(y,p){(p==null||p>y.length)&&(p=y.length);for(var g=0,w=new Array(p);g<p;g++)w[g]=y[g];return w}function n(y,p,g,w,b,$,E){try{var O=y[$](E),P=O.value}catch(S){g(S);return}O.done?p(P):Promise.resolve(P).then(w,b)}function m(y){return function(){var p=this,g=arguments;return new Promise(function(w,b){var $=y.apply(p,g);function E(P){n($,w,b,E,O,"next",P)}function O(P){n($,w,b,E,O,"throw",P)}E(void 0)})}}const a=qn(),f=["suggest","format","onState","validate","onRender","type"],o=()=>{};function d(){return c.apply(this,arguments)}function c(){return c=m(function*(y=[],{onSubmit:p=o,onCancel:g=o}={}){const w={},b=d._override||{};y=[].concat(y);let $,E,O,P,S,x;const T=function(){var D=m(function*(M,q,F=!1){if(!(!F&&M.validate&&M.validate(q)!==!0))return M.format?yield M.format(q,w):q});return function(q,F){return D.apply(this,arguments)}}();var R=i(y),_;try{for(R.s();!(_=R.n()).done;){E=_.value;var k=E;if(P=k.name,S=k.type,typeof S=="function"&&(S=yield S($,t({},w),E),E.type=S),!!S){for(let D in E){if(f.includes(D))continue;let M=E[D];E[D]=typeof M=="function"?yield M($,t({},w),x):M}if(x=E,typeof E.message!="string")throw new Error("prompt message is required");var C=E;if(P=C.name,S=C.type,a[S]===void 0)throw new Error(`prompt type (${S}) is not defined`);if(b[E.name]!==void 0&&($=yield T(E,b[E.name]),$!==void 0)){w[P]=$;continue}try{$=d._injected?l(d._injected,E.initial):yield a[S](E),w[P]=$=yield T(E,$,!0),O=yield p(E,$,w)}catch{O=!(yield g(E,w))}if(O)return w}}}catch(D){R.e(D)}finally{R.f()}return w}),c.apply(this,arguments)}function l(y,p){const g=y.shift();if(g instanceof Error)throw g;return g===void 0?p:g}function h(y){d._injected=(d._injected||[]).concat(y)}function v(y){d._override=Object.assign({},y)}return xt=Object.assign(d,{prompt:d,prompts:a,inject:h,override:v}),xt}var Et={},Ot,hi;function Nn(){return hi||(hi=1,Ot=(e,t)=>{if(!(e.meta&&e.name!=="escape")){if(e.ctrl){if(e.name==="a")return"first";if(e.name==="c"||e.name==="d")return"abort";if(e.name==="e")return"last";if(e.name==="g")return"reset"}if(t){if(e.name==="j")return"down";if(e.name==="k")return"up"}return e.name==="return"||e.name==="enter"?"submit":e.name==="backspace"?"delete":e.name==="delete"?"deleteForward":e.name==="abort"?"abort":e.name==="escape"?"exit":e.name==="tab"?"next":e.name==="pagedown"?"nextPage":e.name==="pageup"?"prevPage":e.name==="home"?"home":e.name==="end"?"end":e.name==="up"?"up":e.name==="down"?"down":e.name==="right"?"right":e.name==="left"?"left":!1}}),Ot}var Pt,ci;function Tt(){return ci||(ci=1,Pt=e=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PRZcf-ntqry=><~]))"].join("|"),r=new RegExp(t,"g");return typeof e=="string"?e.replace(r,""):e}),Pt}var Mt,di;function jn(){if(di)return Mt;di=1;const e=Tt(),{erase:t,cursor:r}=j(),i=s=>[...e(s)].length;return Mt=function(s,u){if(!u)return t.line+r.to(0);let n=0;const m=s.split(/\r?\n/);for(let a of m)n+=1+Math.floor(Math.max(i(a)-1,0)/u);return t.lines(n)},Mt}var Dt,fi;function mi(){if(fi)return Dt;fi=1;const e={arrowUp:"\u2191",arrowDown:"\u2193",arrowLeft:"\u2190",arrowRight:"\u2192",radioOn:"\u25C9",radioOff:"\u25EF",tick:"\u2714",cross:"\u2716",ellipsis:"\u2026",pointerSmall:"\u203A",line:"\u2500",pointer:"\u276F"},t={arrowUp:e.arrowUp,arrowDown:e.arrowDown,arrowLeft:e.arrowLeft,arrowRight:e.arrowRight,radioOn:"(*)",radioOff:"( )",tick:"\u221A",cross:"\xD7",ellipsis:"...",pointerSmall:"\xBB",line:"\u2500",pointer:">"};return Dt=process.platform==="win32"?t:e,Dt}var _t,pi;function Ln(){if(pi)return _t;pi=1;const e=N(),t=mi(),r=Object.freeze({password:{scale:1,render:a=>"*".repeat(a.length)},emoji:{scale:2,render:a=>"\u{1F603}".repeat(a.length)},invisible:{scale:0,render:a=>""},default:{scale:1,render:a=>`${a}`}}),i=a=>r[a]||r.default,s=Object.freeze({aborted:e.red(t.cross),done:e.green(t.tick),exited:e.yellow(t.cross),default:e.cyan("?")});return _t={styles:r,render:i,symbols:s,symbol:(a,f,o)=>f?s.aborted:o?s.exited:a?s.done:s.default,delimiter:a=>e.gray(a?t.ellipsis:t.pointerSmall),item:(a,f)=>e.gray(a?f?t.pointerSmall:"+":t.line)},_t}var kt,yi;function Yn(){if(yi)return kt;yi=1;const e=Tt();return kt=function(t,r){let i=String(e(t)||"").split(/\r?\n/);return r?i.map(s=>Math.ceil(s.length/r)).reduce((s,u)=>s+u):i.length},kt}var Ct,gi;function Hn(){return gi||(gi=1,Ct=(e,t={})=>{const r=Number.isSafeInteger(parseInt(t.margin))?new Array(parseInt(t.margin)).fill(" ").join(""):t.margin||"",i=t.width;return(e||"").split(/\r?\n/g).map(s=>s.split(/\s+/g).reduce((u,n)=>(n.length+r.length>=i||u[u.length-1].length+n.length+1<i?u[u.length-1]+=` ${n}`:u.push(`${r}${n}`),u),[r]).join(`
`)).join(`
`)}),Ct}var Rt,vi;function Vn(){return vi||(vi=1,Rt=(e,t,r)=>{r=r||t;let i=Math.min(t-r,e-Math.floor(r/2));i<0&&(i=0);let s=Math.min(i+r,t);return{startIndex:i,endIndex:s}}),Rt}var Ft,wi;function Z(){return wi||(wi=1,Ft={action:Nn(),clear:jn(),style:Ln(),strip:Tt(),figures:mi(),lines:Yn(),wrap:Hn(),entriesToDisplay:Vn()}),Ft}var It,Si;function re(){if(Si)return It;Si=1;const e=br,{action:t}=Z(),r=$r,{beep:i,cursor:s}=j(),u=N();class n extends r{constructor(a={}){super(),this.firstRender=!0,this.in=a.stdin||process.stdin,this.out=a.stdout||process.stdout,this.onRender=(a.onRender||(()=>{})).bind(this);const f=e.createInterface({input:this.in,escapeCodeTimeout:50});e.emitKeypressEvents(this.in,f),this.in.isTTY&&this.in.setRawMode(!0);const o=["SelectPrompt","MultiselectPrompt"].indexOf(this.constructor.name)>-1,d=(c,l)=>{let h=t(l,o);h===!1?this._&&this._(c,l):typeof this[h]=="function"?this[h](l):this.bell()};this.close=()=>{this.out.write(s.show),this.in.removeListener("keypress",d),this.in.isTTY&&this.in.setRawMode(!1),f.close(),this.emit(this.aborted?"abort":this.exited?"exit":"submit",this.value),this.closed=!0},this.in.on("keypress",d)}fire(){this.emit("state",{value:this.value,aborted:!!this.aborted,exited:!!this.exited})}bell(){this.out.write(i)}render(){this.onRender(u),this.firstRender&&(this.firstRender=!1)}}return It=n,It}var qt,bi;function Wn(){if(bi)return qt;bi=1;const e=N(),t=re(),{erase:r,cursor:i}=j(),{style:s,clear:u,lines:n,figures:m}=Z();class a extends t{constructor(o={}){super(o),this.transform=s.render(o.style),this.scale=this.transform.scale,this.msg=o.message,this.initial=o.initial||"",this.validator=o.validate||(()=>!0),this.value="",this.errorMsg=o.error||"Please Enter A Valid Value",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.clear=u("",this.out.columns),this.render()}set value(o){!o&&this.initial?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(this.initial))):(this.placeholder=!1,this.rendered=this.transform.render(o)),this._value=o,this.fire()}get value(){return this._value}reset(){this.value="",this.cursor=Number(!!this.initial),this.cursorOffset=0,this.fire(),this.render()}exit(){this.abort()}abort(){this.value=this.value||this.initial,this.done=this.aborted=!0,this.error=!1,this.red=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let o=await this.validator(this.value);typeof o=="string"&&(this.errorMsg=o,o=!1),this.error=!o}async submit(){if(this.value=this.value||this.initial,this.cursorOffset=0,this.cursor=this.rendered.length,await this.validate(),this.error){this.red=!0,this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}next(){if(!this.placeholder)return this.bell();this.value=this.initial,this.cursor=this.rendered.length,this.fire(),this.render()}moveCursor(o){this.placeholder||(this.cursor=this.cursor+o,this.cursorOffset+=o)}_(o,d){let c=this.value.slice(0,this.cursor),l=this.value.slice(this.cursor);this.value=`${c}${o}${l}`,this.red=!1,this.cursor=this.placeholder?0:c.length+1,this.render()}delete(){if(this.isCursorAtStart())return this.bell();let o=this.value.slice(0,this.cursor-1),d=this.value.slice(this.cursor);this.value=`${o}${d}`,this.red=!1,this.isCursorAtStart()?this.cursorOffset=0:(this.cursorOffset++,this.moveCursor(-1)),this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();let o=this.value.slice(0,this.cursor),d=this.value.slice(this.cursor+1);this.value=`${o}${d}`,this.red=!1,this.isCursorAtEnd()?this.cursorOffset=0:this.cursorOffset++,this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length,this.render()}left(){if(this.cursor<=0||this.placeholder)return this.bell();this.moveCursor(-1),this.render()}right(){if(this.cursor*this.scale>=this.rendered.length||this.placeholder)return this.bell();this.moveCursor(1),this.render()}isCursorAtStart(){return this.cursor===0||this.placeholder&&this.cursor===1}isCursorAtEnd(){return this.cursor===this.rendered.length||this.placeholder&&this.cursor===this.rendered.length+1}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(i.down(n(this.outputError,this.out.columns)-1)+u(this.outputError,this.out.columns)),this.out.write(u(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),e.bold(this.msg),s.delimiter(this.done),this.red?e.red(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((o,d,c)=>o+`
${c?" ":m.pointerSmall} ${e.red().italic(d)}`,"")),this.out.write(r.line+i.to(0)+this.outputText+i.save+this.outputError+i.restore+i.move(this.cursorOffset,0)))}}return qt=a,qt}var At,$i;function Bn(){if($i)return At;$i=1;const e=N(),t=re(),{style:r,clear:i,figures:s,wrap:u,entriesToDisplay:n}=Z(),{cursor:m}=j();class a extends t{constructor(o={}){super(o),this.msg=o.message,this.hint=o.hint||"- Use arrow-keys. Return to submit.",this.warn=o.warn||"- This option is disabled",this.cursor=o.initial||0,this.choices=o.choices.map((d,c)=>(typeof d=="string"&&(d={title:d,value:c}),{title:d&&(d.title||d.value||d),value:d&&(d.value===void 0?c:d.value),description:d&&d.description,selected:d&&d.selected,disabled:d&&d.disabled})),this.optionsPerPage=o.optionsPerPage||10,this.value=(this.choices[this.cursor]||{}).value,this.clear=i("",this.out.columns),this.render()}moveCursor(o){this.cursor=o,this.value=this.choices[o].value,this.fire()}reset(){this.moveCursor(0),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.selection.disabled?this.bell():(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.moveCursor(0),this.render()}last(){this.moveCursor(this.choices.length-1),this.render()}up(){this.cursor===0?this.moveCursor(this.choices.length-1):this.moveCursor(this.cursor-1),this.render()}down(){this.cursor===this.choices.length-1?this.moveCursor(0):this.moveCursor(this.cursor+1),this.render()}next(){this.moveCursor((this.cursor+1)%this.choices.length),this.render()}_(o,d){if(o===" ")return this.submit()}get selection(){return this.choices[this.cursor]}render(){if(this.closed)return;this.firstRender?this.out.write(m.hide):this.out.write(i(this.outputText,this.out.columns)),super.render();let{startIndex:o,endIndex:d}=n(this.cursor,this.choices.length,this.optionsPerPage);if(this.outputText=[r.symbol(this.done,this.aborted),e.bold(this.msg),r.delimiter(!1),this.done?this.selection.title:this.selection.disabled?e.yellow(this.warn):e.gray(this.hint)].join(" "),!this.done){this.outputText+=`
`;for(let c=o;c<d;c++){let l,h,v="",y=this.choices[c];c===o&&o>0?h=s.arrowUp:c===d-1&&d<this.choices.length?h=s.arrowDown:h=" ",y.disabled?(l=this.cursor===c?e.gray().underline(y.title):e.strikethrough().gray(y.title),h=(this.cursor===c?e.bold().gray(s.pointer)+" ":"  ")+h):(l=this.cursor===c?e.cyan().underline(y.title):y.title,h=(this.cursor===c?e.cyan(s.pointer)+" ":"  ")+h,y.description&&this.cursor===c&&(v=` - ${y.description}`,(h.length+l.length+v.length>=this.out.columns||y.description.split(/\r?\n/).length>1)&&(v=`
`+u(y.description,{margin:3,width:this.out.columns})))),this.outputText+=`${h} ${l}${e.gray(v)}
`}}this.out.write(this.outputText)}}return At=a,At}var Nt,xi;function Jn(){if(xi)return Nt;xi=1;const e=N(),t=re(),{style:r,clear:i}=Z(),{cursor:s,erase:u}=j();class n extends t{constructor(a={}){super(a),this.msg=a.message,this.value=!!a.initial,this.active=a.active||"on",this.inactive=a.inactive||"off",this.initialValue=this.value,this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}deactivate(){if(this.value===!1)return this.bell();this.value=!1,this.render()}activate(){if(this.value===!0)return this.bell();this.value=!0,this.render()}delete(){this.deactivate()}left(){this.deactivate()}right(){this.activate()}down(){this.deactivate()}up(){this.activate()}next(){this.value=!this.value,this.fire(),this.render()}_(a,f){if(a===" ")this.value=!this.value;else if(a==="1")this.value=!0;else if(a==="0")this.value=!1;else return this.bell();this.render()}render(){this.closed||(this.firstRender?this.out.write(s.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),e.bold(this.msg),r.delimiter(this.done),this.value?this.inactive:e.cyan().underline(this.inactive),e.gray("/"),this.value?e.cyan().underline(this.active):this.active].join(" "),this.out.write(u.line+s.to(0)+this.outputText))}}return Nt=n,Nt}var jt,Ei;function ee(){if(Ei)return jt;Ei=1;class e{constructor({token:r,date:i,parts:s,locales:u}){this.token=r,this.date=i||new Date,this.parts=s||[this],this.locales=u||{}}up(){}down(){}next(){const r=this.parts.indexOf(this);return this.parts.find((i,s)=>s>r&&i instanceof e)}setTo(r){}prev(){let r=[].concat(this.parts).reverse();const i=r.indexOf(this);return r.find((s,u)=>u>i&&s instanceof e)}toString(){return String(this.date)}}return jt=e,jt}var Lt,Oi;function Un(){if(Oi)return Lt;Oi=1;const e=ee();class t extends e{constructor(i={}){super(i)}up(){this.date.setHours((this.date.getHours()+12)%24)}down(){this.up()}toString(){let i=this.date.getHours()>12?"pm":"am";return/\A/.test(this.token)?i.toUpperCase():i}}return Lt=t,Lt}var Yt,Pi;function Gn(){if(Pi)return Yt;Pi=1;const e=ee(),t=i=>(i=i%10,i===1?"st":i===2?"nd":i===3?"rd":"th");class r extends e{constructor(s={}){super(s)}up(){this.date.setDate(this.date.getDate()+1)}down(){this.date.setDate(this.date.getDate()-1)}setTo(s){this.date.setDate(parseInt(s.substr(-2)))}toString(){let s=this.date.getDate(),u=this.date.getDay();return this.token==="DD"?String(s).padStart(2,"0"):this.token==="Do"?s+t(s):this.token==="d"?u+1:this.token==="ddd"?this.locales.weekdaysShort[u]:this.token==="dddd"?this.locales.weekdays[u]:s}}return Yt=r,Yt}var Ht,Ti;function Kn(){if(Ti)return Ht;Ti=1;const e=ee();class t extends e{constructor(i={}){super(i)}up(){this.date.setHours(this.date.getHours()+1)}down(){this.date.setHours(this.date.getHours()-1)}setTo(i){this.date.setHours(parseInt(i.substr(-2)))}toString(){let i=this.date.getHours();return/h/.test(this.token)&&(i=i%12||12),this.token.length>1?String(i).padStart(2,"0"):i}}return Ht=t,Ht}var Vt,Mi;function zn(){if(Mi)return Vt;Mi=1;const e=ee();class t extends e{constructor(i={}){super(i)}up(){this.date.setMilliseconds(this.date.getMilliseconds()+1)}down(){this.date.setMilliseconds(this.date.getMilliseconds()-1)}setTo(i){this.date.setMilliseconds(parseInt(i.substr(-this.token.length)))}toString(){return String(this.date.getMilliseconds()).padStart(4,"0").substr(0,this.token.length)}}return Vt=t,Vt}var Wt,Di;function Zn(){if(Di)return Wt;Di=1;const e=ee();class t extends e{constructor(i={}){super(i)}up(){this.date.setMinutes(this.date.getMinutes()+1)}down(){this.date.setMinutes(this.date.getMinutes()-1)}setTo(i){this.date.setMinutes(parseInt(i.substr(-2)))}toString(){let i=this.date.getMinutes();return this.token.length>1?String(i).padStart(2,"0"):i}}return Wt=t,Wt}var Bt,_i;function Xn(){if(_i)return Bt;_i=1;const e=ee();class t extends e{constructor(i={}){super(i)}up(){this.date.setMonth(this.date.getMonth()+1)}down(){this.date.setMonth(this.date.getMonth()-1)}setTo(i){i=parseInt(i.substr(-2))-1,this.date.setMonth(i<0?0:i)}toString(){let i=this.date.getMonth(),s=this.token.length;return s===2?String(i+1).padStart(2,"0"):s===3?this.locales.monthsShort[i]:s===4?this.locales.months[i]:String(i+1)}}return Bt=t,Bt}var Jt,ki;function Qn(){if(ki)return Jt;ki=1;const e=ee();class t extends e{constructor(i={}){super(i)}up(){this.date.setSeconds(this.date.getSeconds()+1)}down(){this.date.setSeconds(this.date.getSeconds()-1)}setTo(i){this.date.setSeconds(parseInt(i.substr(-2)))}toString(){let i=this.date.getSeconds();return this.token.length>1?String(i).padStart(2,"0"):i}}return Jt=t,Jt}var Ut,Ci;function eo(){if(Ci)return Ut;Ci=1;const e=ee();class t extends e{constructor(i={}){super(i)}up(){this.date.setFullYear(this.date.getFullYear()+1)}down(){this.date.setFullYear(this.date.getFullYear()-1)}setTo(i){this.date.setFullYear(i.substr(-4))}toString(){let i=String(this.date.getFullYear()).padStart(4,"0");return this.token.length===2?i.substr(-2):i}}return Ut=t,Ut}var Gt,Ri;function to(){return Ri||(Ri=1,Gt={DatePart:ee(),Meridiem:Un(),Day:Gn(),Hours:Kn(),Milliseconds:zn(),Minutes:Zn(),Month:Xn(),Seconds:Qn(),Year:eo()}),Gt}var Kt,Fi;function ro(){if(Fi)return Kt;Fi=1;const e=N(),t=re(),{style:r,clear:i,figures:s}=Z(),{erase:u,cursor:n}=j(),{DatePart:m,Meridiem:a,Day:f,Hours:o,Milliseconds:d,Minutes:c,Month:l,Seconds:h,Year:v}=to(),y=/\\(.)|"((?:\\["\\]|[^"])+)"|(D[Do]?|d{3,4}|d)|(M{1,4})|(YY(?:YY)?)|([aA])|([Hh]{1,2})|(m{1,2})|(s{1,2})|(S{1,4})|./g,p={1:({token:b})=>b.replace(/\\(.)/g,"$1"),2:b=>new f(b),3:b=>new l(b),4:b=>new v(b),5:b=>new a(b),6:b=>new o(b),7:b=>new c(b),8:b=>new h(b),9:b=>new d(b)},g={months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),monthsShort:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),weekdaysShort:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(",")};class w extends t{constructor($={}){super($),this.msg=$.message,this.cursor=0,this.typed="",this.locales=Object.assign(g,$.locales),this._date=$.initial||new Date,this.errorMsg=$.error||"Please Enter A Valid Value",this.validator=$.validate||(()=>!0),this.mask=$.mask||"YYYY-MM-DD HH:mm:ss",this.clear=i("",this.out.columns),this.render()}get value(){return this.date}get date(){return this._date}set date($){$&&this._date.setTime($.getTime())}set mask($){let E;for(this.parts=[];E=y.exec($);){let P=E.shift(),S=E.findIndex(x=>x!=null);this.parts.push(S in p?p[S]({token:E[S]||P,date:this.date,parts:this.parts,locales:this.locales}):E[S]||P)}let O=this.parts.reduce((P,S)=>(typeof S=="string"&&typeof P[P.length-1]=="string"?P[P.length-1]+=S:P.push(S),P),[]);this.parts.splice(0),this.parts.push(...O),this.reset()}moveCursor($){this.typed="",this.cursor=$,this.fire()}reset(){this.moveCursor(this.parts.findIndex($=>$ instanceof m)),this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let $=await this.validator(this.value);typeof $=="string"&&(this.errorMsg=$,$=!1),this.error=!$}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){this.typed="",this.parts[this.cursor].up(),this.render()}down(){this.typed="",this.parts[this.cursor].down(),this.render()}left(){let $=this.parts[this.cursor].prev();if($==null)return this.bell();this.moveCursor(this.parts.indexOf($)),this.render()}right(){let $=this.parts[this.cursor].next();if($==null)return this.bell();this.moveCursor(this.parts.indexOf($)),this.render()}next(){let $=this.parts[this.cursor].next();this.moveCursor($?this.parts.indexOf($):this.parts.findIndex(E=>E instanceof m)),this.render()}_($){/\d/.test($)&&(this.typed+=$,this.parts[this.cursor].setTo(this.typed),this.render())}render(){this.closed||(this.firstRender?this.out.write(n.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),e.bold(this.msg),r.delimiter(!1),this.parts.reduce(($,E,O)=>$.concat(O===this.cursor&&!this.done?e.cyan().underline(E.toString()):E),[]).join("")].join(" "),this.error&&(this.outputText+=this.errorMsg.split(`
`).reduce(($,E,O)=>$+`
${O?" ":s.pointerSmall} ${e.red().italic(E)}`,"")),this.out.write(u.line+n.to(0)+this.outputText))}}return Kt=w,Kt}var zt,Ii;function io(){if(Ii)return zt;Ii=1;const e=N(),t=re(),{cursor:r,erase:i}=j(),{style:s,figures:u,clear:n,lines:m}=Z(),a=/[0-9]/,f=c=>c!==void 0,o=(c,l)=>{let h=Math.pow(10,l);return Math.round(c*h)/h};class d extends t{constructor(l={}){super(l),this.transform=s.render(l.style),this.msg=l.message,this.initial=f(l.initial)?l.initial:"",this.float=!!l.float,this.round=l.round||2,this.inc=l.increment||1,this.min=f(l.min)?l.min:-1/0,this.max=f(l.max)?l.max:1/0,this.errorMsg=l.error||"Please Enter A Valid Value",this.validator=l.validate||(()=>!0),this.color="cyan",this.value="",this.typed="",this.lastHit=0,this.render()}set value(l){!l&&l!==0?(this.placeholder=!0,this.rendered=e.gray(this.transform.render(`${this.initial}`)),this._value=""):(this.placeholder=!1,this.rendered=this.transform.render(`${o(l,this.round)}`),this._value=o(l,this.round)),this.fire()}get value(){return this._value}parse(l){return this.float?parseFloat(l):parseInt(l)}valid(l){return l==="-"||l==="."&&this.float||a.test(l)}reset(){this.typed="",this.value="",this.fire(),this.render()}exit(){this.abort()}abort(){let l=this.value;this.value=l!==""?l:this.initial,this.done=this.aborted=!0,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}async validate(){let l=await this.validator(this.value);typeof l=="string"&&(this.errorMsg=l,l=!1),this.error=!l}async submit(){if(await this.validate(),this.error){this.color="red",this.fire(),this.render();return}let l=this.value;this.value=l!==""?l:this.initial,this.done=!0,this.aborted=!1,this.error=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}up(){if(this.typed="",this.value===""&&(this.value=this.min-this.inc),this.value>=this.max)return this.bell();this.value+=this.inc,this.color="cyan",this.fire(),this.render()}down(){if(this.typed="",this.value===""&&(this.value=this.min+this.inc),this.value<=this.min)return this.bell();this.value-=this.inc,this.color="cyan",this.fire(),this.render()}delete(){let l=this.value.toString();if(l.length===0)return this.bell();this.value=this.parse(l=l.slice(0,-1))||"",this.value!==""&&this.value<this.min&&(this.value=this.min),this.color="cyan",this.fire(),this.render()}next(){this.value=this.initial,this.fire(),this.render()}_(l,h){if(!this.valid(l))return this.bell();const v=Date.now();if(v-this.lastHit>1e3&&(this.typed=""),this.typed+=l,this.lastHit=v,this.color="cyan",l===".")return this.fire();this.value=Math.min(this.parse(this.typed),this.max),this.value>this.max&&(this.value=this.max),this.value<this.min&&(this.value=this.min),this.fire(),this.render()}render(){this.closed||(this.firstRender||(this.outputError&&this.out.write(r.down(m(this.outputError,this.out.columns)-1)+n(this.outputError,this.out.columns)),this.out.write(n(this.outputText,this.out.columns))),super.render(),this.outputError="",this.outputText=[s.symbol(this.done,this.aborted),e.bold(this.msg),s.delimiter(this.done),!this.done||!this.done&&!this.placeholder?e[this.color]().underline(this.rendered):this.rendered].join(" "),this.error&&(this.outputError+=this.errorMsg.split(`
`).reduce((l,h,v)=>l+`
${v?" ":u.pointerSmall} ${e.red().italic(h)}`,"")),this.out.write(i.line+r.to(0)+this.outputText+r.save+this.outputError+r.restore))}}return zt=d,zt}var Zt,qi;function Ai(){if(qi)return Zt;qi=1;const e=N(),{cursor:t}=j(),r=re(),{clear:i,figures:s,style:u,wrap:n,entriesToDisplay:m}=Z();class a extends r{constructor(o={}){super(o),this.msg=o.message,this.cursor=o.cursor||0,this.scrollIndex=o.cursor||0,this.hint=o.hint||"",this.warn=o.warn||"- This option is disabled -",this.minSelected=o.min,this.showMinError=!1,this.maxChoices=o.max,this.instructions=o.instructions,this.optionsPerPage=o.optionsPerPage||10,this.value=o.choices.map((d,c)=>(typeof d=="string"&&(d={title:d,value:c}),{title:d&&(d.title||d.value||d),description:d&&d.description,value:d&&(d.value===void 0?c:d.value),selected:d&&d.selected,disabled:d&&d.disabled})),this.clear=i("",this.out.columns),o.overrideRender||this.render()}reset(){this.value.map(o=>!o.selected),this.cursor=0,this.fire(),this.render()}selected(){return this.value.filter(o=>o.selected)}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){const o=this.value.filter(d=>d.selected);this.minSelected&&o.length<this.minSelected?(this.showMinError=!0,this.render()):(this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}first(){this.cursor=0,this.render()}last(){this.cursor=this.value.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.value.length,this.render()}up(){this.cursor===0?this.cursor=this.value.length-1:this.cursor--,this.render()}down(){this.cursor===this.value.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.value[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(o=>o.selected).length>=this.maxChoices)return this.bell();this.value[this.cursor].selected=!0,this.render()}handleSpaceToggle(){const o=this.value[this.cursor];if(o.selected)o.selected=!1,this.render();else{if(o.disabled||this.value.filter(d=>d.selected).length>=this.maxChoices)return this.bell();o.selected=!0,this.render()}}toggleAll(){if(this.maxChoices!==void 0||this.value[this.cursor].disabled)return this.bell();const o=!this.value[this.cursor].selected;this.value.filter(d=>!d.disabled).forEach(d=>d.selected=o),this.render()}_(o,d){if(o===" ")this.handleSpaceToggle();else if(o==="a")this.toggleAll();else return this.bell()}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${s.arrowUp}/${s.arrowDown}: Highlight option
    ${s.arrowLeft}/${s.arrowRight}/[space]: Toggle selection
`+(this.maxChoices===void 0?`    a: Toggle all
`:"")+"    enter/return: Complete answer":""}renderOption(o,d,c,l){const h=(d.selected?e.green(s.radioOn):s.radioOff)+" "+l+" ";let v,y;return d.disabled?v=o===c?e.gray().underline(d.title):e.strikethrough().gray(d.title):(v=o===c?e.cyan().underline(d.title):d.title,o===c&&d.description&&(y=` - ${d.description}`,(h.length+v.length+y.length>=this.out.columns||d.description.split(/\r?\n/).length>1)&&(y=`
`+n(d.description,{margin:h.length,width:this.out.columns})))),h+v+e.gray(y||"")}paginateOptions(o){if(o.length===0)return e.red("No matches for this query.");let{startIndex:d,endIndex:c}=m(this.cursor,o.length,this.optionsPerPage),l,h=[];for(let v=d;v<c;v++)v===d&&d>0?l=s.arrowUp:v===c-1&&c<o.length?l=s.arrowDown:l=" ",h.push(this.renderOption(this.cursor,o[v],v,l));return`
`+h.join(`
`)}renderOptions(o){return this.done?"":this.paginateOptions(o)}renderDoneOrInstructions(){if(this.done)return this.value.filter(d=>d.selected).map(d=>d.title).join(", ");const o=[e.gray(this.hint),this.renderInstructions()];return this.value[this.cursor].disabled&&o.push(e.yellow(this.warn)),o.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(t.hide),super.render();let o=[u.symbol(this.done,this.aborted),e.bold(this.msg),u.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(o+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),o+=this.renderOptions(this.value),this.out.write(this.clear+o),this.clear=i(o,this.out.columns)}}return Zt=a,Zt}var Xt,Ni;function so(){if(Ni)return Xt;Ni=1;const e=N(),t=re(),{erase:r,cursor:i}=j(),{style:s,clear:u,figures:n,wrap:m,entriesToDisplay:a}=Z(),f=(l,h)=>l[h]&&(l[h].value||l[h].title||l[h]),o=(l,h)=>l[h]&&(l[h].title||l[h].value||l[h]),d=(l,h)=>{const v=l.findIndex(y=>y.value===h||y.title===h);return v>-1?v:void 0};class c extends t{constructor(h={}){super(h),this.msg=h.message,this.suggest=h.suggest,this.choices=h.choices,this.initial=typeof h.initial=="number"?h.initial:d(h.choices,h.initial),this.select=this.initial||h.cursor||0,this.i18n={noMatches:h.noMatches||"no matches found"},this.fallback=h.fallback||this.initial,this.clearFirst=h.clearFirst||!1,this.suggestions=[],this.input="",this.limit=h.limit||10,this.cursor=0,this.transform=s.render(h.style),this.scale=this.transform.scale,this.render=this.render.bind(this),this.complete=this.complete.bind(this),this.clear=u("",this.out.columns),this.complete(this.render),this.render()}set fallback(h){this._fb=Number.isSafeInteger(parseInt(h))?parseInt(h):h}get fallback(){let h;return typeof this._fb=="number"?h=this.choices[this._fb]:typeof this._fb=="string"&&(h={title:this._fb}),h||this._fb||{title:this.i18n.noMatches}}moveSelect(h){this.select=h,this.suggestions.length>0?this.value=f(this.suggestions,h):this.value=this.fallback.value,this.fire()}async complete(h){const v=this.completing=this.suggest(this.input,this.choices),y=await v;if(this.completing!==v)return;this.suggestions=y.map((g,w,b)=>({title:o(b,w),value:f(b,w),description:g.description})),this.completing=!1;const p=Math.max(y.length-1,0);this.moveSelect(Math.min(p,this.select)),h&&h()}reset(){this.input="",this.complete(()=>{this.moveSelect(this.initial!==void 0?this.initial:0),this.render()}),this.render()}exit(){this.clearFirst&&this.input.length>0?this.reset():(this.done=this.exited=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close())}abort(){this.done=this.aborted=!0,this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.done=!0,this.aborted=this.exited=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(h,v){let y=this.input.slice(0,this.cursor),p=this.input.slice(this.cursor);this.input=`${y}${h}${p}`,this.cursor=y.length+1,this.complete(this.render),this.render()}delete(){if(this.cursor===0)return this.bell();let h=this.input.slice(0,this.cursor-1),v=this.input.slice(this.cursor);this.input=`${h}${v}`,this.complete(this.render),this.cursor=this.cursor-1,this.render()}deleteForward(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();let h=this.input.slice(0,this.cursor),v=this.input.slice(this.cursor+1);this.input=`${h}${v}`,this.complete(this.render),this.render()}first(){this.moveSelect(0),this.render()}last(){this.moveSelect(this.suggestions.length-1),this.render()}up(){this.select===0?this.moveSelect(this.suggestions.length-1):this.moveSelect(this.select-1),this.render()}down(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}next(){this.select===this.suggestions.length-1?this.moveSelect(0):this.moveSelect(this.select+1),this.render()}nextPage(){this.moveSelect(Math.min(this.select+this.limit,this.suggestions.length-1)),this.render()}prevPage(){this.moveSelect(Math.max(this.select-this.limit,0)),this.render()}left(){if(this.cursor<=0)return this.bell();this.cursor=this.cursor-1,this.render()}right(){if(this.cursor*this.scale>=this.rendered.length)return this.bell();this.cursor=this.cursor+1,this.render()}renderOption(h,v,y,p){let g,w=y?n.arrowUp:p?n.arrowDown:" ",b=v?e.cyan().underline(h.title):h.title;return w=(v?e.cyan(n.pointer)+" ":"  ")+w,h.description&&(g=` - ${h.description}`,(w.length+b.length+g.length>=this.out.columns||h.description.split(/\r?\n/).length>1)&&(g=`
`+m(h.description,{margin:3,width:this.out.columns}))),w+" "+b+e.gray(g||"")}render(){if(this.closed)return;this.firstRender?this.out.write(i.hide):this.out.write(u(this.outputText,this.out.columns)),super.render();let{startIndex:h,endIndex:v}=a(this.select,this.choices.length,this.limit);if(this.outputText=[s.symbol(this.done,this.aborted,this.exited),e.bold(this.msg),s.delimiter(this.completing),this.done&&this.suggestions[this.select]?this.suggestions[this.select].title:this.rendered=this.transform.render(this.input)].join(" "),!this.done){const y=this.suggestions.slice(h,v).map((p,g)=>this.renderOption(p,this.select===g+h,g===0&&h>0,g+h===v-1&&v<this.choices.length)).join(`
`);this.outputText+=`
`+(y||e.gray(this.fallback.title))}this.out.write(r.line+i.to(0)+this.outputText)}}return Xt=c,Xt}var Qt,ji;function no(){if(ji)return Qt;ji=1;const e=N(),{cursor:t}=j(),r=Ai(),{clear:i,style:s,figures:u}=Z();class n extends r{constructor(a={}){a.overrideRender=!0,super(a),this.inputValue="",this.clear=i("",this.out.columns),this.filteredOptions=this.value,this.render()}last(){this.cursor=this.filteredOptions.length-1,this.render()}next(){this.cursor=(this.cursor+1)%this.filteredOptions.length,this.render()}up(){this.cursor===0?this.cursor=this.filteredOptions.length-1:this.cursor--,this.render()}down(){this.cursor===this.filteredOptions.length-1?this.cursor=0:this.cursor++,this.render()}left(){this.filteredOptions[this.cursor].selected=!1,this.render()}right(){if(this.value.filter(a=>a.selected).length>=this.maxChoices)return this.bell();this.filteredOptions[this.cursor].selected=!0,this.render()}delete(){this.inputValue.length&&(this.inputValue=this.inputValue.substr(0,this.inputValue.length-1),this.updateFilteredOptions())}updateFilteredOptions(){const a=this.filteredOptions[this.cursor];this.filteredOptions=this.value.filter(o=>this.inputValue?!!(typeof o.title=="string"&&o.title.toLowerCase().includes(this.inputValue.toLowerCase())||typeof o.value=="string"&&o.value.toLowerCase().includes(this.inputValue.toLowerCase())):!0);const f=this.filteredOptions.findIndex(o=>o===a);this.cursor=f<0?0:f,this.render()}handleSpaceToggle(){const a=this.filteredOptions[this.cursor];if(a.selected)a.selected=!1,this.render();else{if(a.disabled||this.value.filter(f=>f.selected).length>=this.maxChoices)return this.bell();a.selected=!0,this.render()}}handleInputChange(a){this.inputValue=this.inputValue+a,this.updateFilteredOptions()}_(a,f){a===" "?this.handleSpaceToggle():this.handleInputChange(a)}renderInstructions(){return this.instructions===void 0||this.instructions?typeof this.instructions=="string"?this.instructions:`
Instructions:
    ${u.arrowUp}/${u.arrowDown}: Highlight option
    ${u.arrowLeft}/${u.arrowRight}/[space]: Toggle selection
    [a,b,c]/delete: Filter choices
    enter/return: Complete answer
`:""}renderCurrentInput(){return`
Filtered results for: ${this.inputValue?this.inputValue:e.gray("Enter something to filter")}
`}renderOption(a,f,o){let d;return f.disabled?d=a===o?e.gray().underline(f.title):e.strikethrough().gray(f.title):d=a===o?e.cyan().underline(f.title):f.title,(f.selected?e.green(u.radioOn):u.radioOff)+"  "+d}renderDoneOrInstructions(){if(this.done)return this.value.filter(f=>f.selected).map(f=>f.title).join(", ");const a=[e.gray(this.hint),this.renderInstructions(),this.renderCurrentInput()];return this.filteredOptions.length&&this.filteredOptions[this.cursor].disabled&&a.push(e.yellow(this.warn)),a.join(" ")}render(){if(this.closed)return;this.firstRender&&this.out.write(t.hide),super.render();let a=[s.symbol(this.done,this.aborted),e.bold(this.msg),s.delimiter(!1),this.renderDoneOrInstructions()].join(" ");this.showMinError&&(a+=e.red(`You must select a minimum of ${this.minSelected} choices.`),this.showMinError=!1),a+=this.renderOptions(this.filteredOptions),this.out.write(this.clear+a),this.clear=i(a,this.out.columns)}}return Qt=n,Qt}var er,Li;function oo(){if(Li)return er;Li=1;const e=N(),t=re(),{style:r,clear:i}=Z(),{erase:s,cursor:u}=j();class n extends t{constructor(a={}){super(a),this.msg=a.message,this.value=a.initial,this.initialValue=!!a.initial,this.yesMsg=a.yes||"yes",this.yesOption=a.yesOption||"(Y/n)",this.noMsg=a.no||"no",this.noOption=a.noOption||"(y/N)",this.render()}reset(){this.value=this.initialValue,this.fire(),this.render()}exit(){this.abort()}abort(){this.done=this.aborted=!0,this.fire(),this.render(),this.out.write(`
`),this.close()}submit(){this.value=this.value||!1,this.done=!0,this.aborted=!1,this.fire(),this.render(),this.out.write(`
`),this.close()}_(a,f){return a.toLowerCase()==="y"?(this.value=!0,this.submit()):a.toLowerCase()==="n"?(this.value=!1,this.submit()):this.bell()}render(){this.closed||(this.firstRender?this.out.write(u.hide):this.out.write(i(this.outputText,this.out.columns)),super.render(),this.outputText=[r.symbol(this.done,this.aborted),e.bold(this.msg),r.delimiter(this.done),this.done?this.value?this.yesMsg:this.noMsg:e.gray(this.initialValue?this.yesOption:this.noOption)].join(" "),this.out.write(s.line+u.to(0)+this.outputText))}}return er=n,er}var tr,Yi;function uo(){return Yi||(Yi=1,tr={TextPrompt:Wn(),SelectPrompt:Bn(),TogglePrompt:Jn(),DatePrompt:ro(),NumberPrompt:io(),MultiselectPrompt:Ai(),AutocompletePrompt:so(),AutocompleteMultiselectPrompt:no(),ConfirmPrompt:oo()}),tr}var Hi;function ao(){return Hi||(Hi=1,function(e){const t=e,r=uo(),i=n=>n;function s(n,m,a={}){return new Promise((f,o)=>{const d=new r[n](m),c=a.onAbort||i,l=a.onSubmit||i,h=a.onExit||i;d.on("state",m.onState||i),d.on("submit",v=>f(l(v))),d.on("exit",v=>f(h(v))),d.on("abort",v=>o(c(v)))})}t.text=n=>s("TextPrompt",n),t.password=n=>(n.style="password",t.text(n)),t.invisible=n=>(n.style="invisible",t.text(n)),t.number=n=>s("NumberPrompt",n),t.date=n=>s("DatePrompt",n),t.confirm=n=>s("ConfirmPrompt",n),t.list=n=>{const m=n.separator||",";return s("TextPrompt",n,{onSubmit:a=>a.split(m).map(f=>f.trim())})},t.toggle=n=>s("TogglePrompt",n),t.select=n=>s("SelectPrompt",n),t.multiselect=n=>{n.choices=[].concat(n.choices||[]);const m=a=>a.filter(f=>f.selected).map(f=>f.value);return s("MultiselectPrompt",n,{onAbort:m,onSubmit:m})},t.autocompleteMultiselect=n=>{n.choices=[].concat(n.choices||[]);const m=a=>a.filter(f=>f.selected).map(f=>f.value);return s("AutocompleteMultiselectPrompt",n,{onAbort:m,onSubmit:m})};const u=(n,m)=>Promise.resolve(m.filter(a=>a.title.slice(0,n.length).toLowerCase()===n.toLowerCase()));t.autocomplete=n=>(n.suggest=n.suggest||u,n.choices=[].concat(n.choices||[]),s("AutocompletePrompt",n))}(Et)),Et}var rr,Vi;function lo(){if(Vi)return rr;Vi=1;const e=ao(),t=["suggest","format","onState","validate","onRender","type"],r=()=>{};async function i(m=[],{onSubmit:a=r,onCancel:f=r}={}){const o={},d=i._override||{};m=[].concat(m);let c,l,h,v,y,p;const g=async(w,b,$=!1)=>{if(!(!$&&w.validate&&w.validate(b)!==!0))return w.format?await w.format(b,o):b};for(l of m)if({name:v,type:y}=l,typeof y=="function"&&(y=await y(c,{...o},l),l.type=y),!!y){for(let w in l){if(t.includes(w))continue;let b=l[w];l[w]=typeof b=="function"?await b(c,{...o},p):b}if(p=l,typeof l.message!="string")throw new Error("prompt message is required");if({name:v,type:y}=l,e[y]===void 0)throw new Error(`prompt type (${y}) is not defined`);if(d[l.name]!==void 0&&(c=await g(l,d[l.name]),c!==void 0)){o[v]=c;continue}try{c=i._injected?s(i._injected,l.initial):await e[y](l),o[v]=c=await g(l,c,!0),h=await a(l,c,o)}catch{h=!await f(l,o)}if(h)return o}return o}function s(m,a){const f=m.shift();if(f instanceof Error)throw f;return f===void 0?a:f}function u(m){i._injected=(i._injected||[]).concat(m)}function n(m){i._override=Object.assign({},m)}return rr=Object.assign(i,{prompt:i,prompts:e,inject:u,override:n}),rr}function ho(e){e=(Array.isArray(e)?e:e.split(".")).map(Number);let t=0,r=process.versions.node.split(".").map(Number);for(;t<e.length;t++){if(r[t]>e[t])return!1;if(e[t]>r[t])return!0}return!1}var co=ho("8.6.0")?An():lo(),ue={},V={};V.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,i)=>{e.call(this,...t,(s,u)=>s!=null?i(s):r(u))})},"name",{value:e.name})},V.fromPromise=function(e){return Object.defineProperty(function(...t){const r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(i=>r(null,i),r)},"name",{value:e.name})};var ie=un,fo=process.cwd,De=null,mo=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return De||(De=fo.call(process)),De};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var Wi=process.chdir;process.chdir=function(e){De=null,Wi.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,Wi)}var po=yo;function yo(e){ie.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=u(e.chown),e.fchown=u(e.fchown),e.lchown=u(e.lchown),e.chmod=i(e.chmod),e.fchmod=i(e.fchmod),e.lchmod=i(e.lchmod),e.chownSync=n(e.chownSync),e.fchownSync=n(e.fchownSync),e.lchownSync=n(e.lchownSync),e.chmodSync=s(e.chmodSync),e.fchmodSync=s(e.fchmodSync),e.lchmodSync=s(e.lchmodSync),e.stat=m(e.stat),e.fstat=m(e.fstat),e.lstat=m(e.lstat),e.statSync=a(e.statSync),e.fstatSync=a(e.fstatSync),e.lstatSync=a(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(o,d,c){c&&process.nextTick(c)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(o,d,c,l){l&&process.nextTick(l)},e.lchownSync=function(){}),mo==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:function(o){function d(c,l,h){var v=Date.now(),y=0;o(c,l,function p(g){if(g&&(g.code==="EACCES"||g.code==="EPERM")&&Date.now()-v<6e4){setTimeout(function(){e.stat(l,function(w,b){w&&w.code==="ENOENT"?o(c,l,p):h(g)})},y),y<100&&(y+=10);return}h&&h(g)})}return Object.setPrototypeOf&&Object.setPrototypeOf(d,o),d}(e.rename)),e.read=typeof e.read!="function"?e.read:function(o){function d(c,l,h,v,y,p){var g;if(p&&typeof p=="function"){var w=0;g=function(b,$,E){if(b&&b.code==="EAGAIN"&&w<10)return w++,o.call(e,c,l,h,v,y,g);p.apply(this,arguments)}}return o.call(e,c,l,h,v,y,g)}return Object.setPrototypeOf&&Object.setPrototypeOf(d,o),d}(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:function(o){return function(d,c,l,h,v){for(var y=0;;)try{return o.call(e,d,c,l,h,v)}catch(p){if(p.code==="EAGAIN"&&y<10){y++;continue}throw p}}}(e.readSync);function t(o){o.lchmod=function(d,c,l){o.open(d,ie.O_WRONLY|ie.O_SYMLINK,c,function(h,v){if(h){l&&l(h);return}o.fchmod(v,c,function(y){o.close(v,function(p){l&&l(y||p)})})})},o.lchmodSync=function(d,c){var l=o.openSync(d,ie.O_WRONLY|ie.O_SYMLINK,c),h=!0,v;try{v=o.fchmodSync(l,c),h=!1}finally{if(h)try{o.closeSync(l)}catch{}else o.closeSync(l)}return v}}function r(o){ie.hasOwnProperty("O_SYMLINK")&&o.futimes?(o.lutimes=function(d,c,l,h){o.open(d,ie.O_SYMLINK,function(v,y){if(v){h&&h(v);return}o.futimes(y,c,l,function(p){o.close(y,function(g){h&&h(p||g)})})})},o.lutimesSync=function(d,c,l){var h=o.openSync(d,ie.O_SYMLINK),v,y=!0;try{v=o.futimesSync(h,c,l),y=!1}finally{if(y)try{o.closeSync(h)}catch{}else o.closeSync(h)}return v}):o.futimes&&(o.lutimes=function(d,c,l,h){h&&process.nextTick(h)},o.lutimesSync=function(){})}function i(o){return o&&function(d,c,l){return o.call(e,d,c,function(h){f(h)&&(h=null),l&&l.apply(this,arguments)})}}function s(o){return o&&function(d,c){try{return o.call(e,d,c)}catch(l){if(!f(l))throw l}}}function u(o){return o&&function(d,c,l,h){return o.call(e,d,c,l,function(v){f(v)&&(v=null),h&&h.apply(this,arguments)})}}function n(o){return o&&function(d,c,l){try{return o.call(e,d,c,l)}catch(h){if(!f(h))throw h}}}function m(o){return o&&function(d,c,l){typeof c=="function"&&(l=c,c=null);function h(v,y){y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),l&&l.apply(this,arguments)}return c?o.call(e,d,c,h):o.call(e,d,h)}}function a(o){return o&&function(d,c){var l=c?o.call(e,d,c):o.call(e,d);return l&&(l.uid<0&&(l.uid+=4294967296),l.gid<0&&(l.gid+=4294967296)),l}}function f(o){if(!o||o.code==="ENOSYS")return!0;var d=!process.getuid||process.getuid()!==0;return!!(d&&(o.code==="EINVAL"||o.code==="EPERM"))}}var Bi=an.Stream,go=vo;function vo(e){return{ReadStream:t,WriteStream:r};function t(i,s){if(!(this instanceof t))return new t(i,s);Bi.call(this);var u=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,s=s||{};for(var n=Object.keys(s),m=0,a=n.length;m<a;m++){var f=n[m];this[f]=s[f]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){u._read()});return}e.open(this.path,this.flags,this.mode,function(o,d){if(o){u.emit("error",o),u.readable=!1;return}u.fd=d,u.emit("open",d),u._read()})}function r(i,s){if(!(this instanceof r))return new r(i,s);Bi.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,s=s||{};for(var u=Object.keys(s),n=0,m=u.length;n<m;n++){var a=u[n];this[a]=s[a]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var wo=bo,So=Object.getPrototypeOf||function(e){return e.__proto__};function bo(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:So(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}var A=xr,$o=po,xo=go,Eo=wo,_e=Er,Y,ke;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Y=Symbol.for("graceful-fs.queue"),ke=Symbol.for("graceful-fs.previous")):(Y="___graceful-fs.queue",ke="___graceful-fs.previous");function Oo(){}function Ji(e,t){Object.defineProperty(e,Y,{get:function(){return t}})}var ae=Oo;if(_e.debuglog?ae=_e.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ae=function(){var e=_e.format.apply(_e,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)}),!A[Y]){var Po=He[Y]||[];Ji(A,Po),A.close=function(e){function t(r,i){return e.call(A,r,function(s){s||Ui(),typeof i=="function"&&i.apply(this,arguments)})}return Object.defineProperty(t,ke,{value:e}),t}(A.close),A.closeSync=function(e){function t(r){e.apply(A,arguments),Ui()}return Object.defineProperty(t,ke,{value:e}),t}(A.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ae(A[Y]),Or.equal(A[Y].length,0)})}He[Y]||Ji(He,A[Y]);var W=ir(Eo(A));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!A.__patched&&(W=ir(A),A.__patched=!0);function ir(e){$o(e),e.gracefulify=ir,e.createReadStream=$,e.createWriteStream=E;var t=e.readFile;e.readFile=r;function r(S,x,T){return typeof x=="function"&&(T=x,x=null),R(S,x,T);function R(_,k,C,D){return t(_,k,function(M){M&&(M.code==="EMFILE"||M.code==="ENFILE")?ce([R,[_,k,C],M,D||Date.now(),Date.now()]):typeof C=="function"&&C.apply(this,arguments)})}}var i=e.writeFile;e.writeFile=s;function s(S,x,T,R){return typeof T=="function"&&(R=T,T=null),_(S,x,T,R);function _(k,C,D,M,q){return i(k,C,D,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?ce([_,[k,C,D,M],F,q||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}var u=e.appendFile;u&&(e.appendFile=n);function n(S,x,T,R){return typeof T=="function"&&(R=T,T=null),_(S,x,T,R);function _(k,C,D,M,q){return u(k,C,D,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?ce([_,[k,C,D,M],F,q||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}var m=e.copyFile;m&&(e.copyFile=a);function a(S,x,T,R){return typeof T=="function"&&(R=T,T=0),_(S,x,T,R);function _(k,C,D,M,q){return m(k,C,D,function(F){F&&(F.code==="EMFILE"||F.code==="ENFILE")?ce([_,[k,C,D,M],F,q||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}var f=e.readdir;e.readdir=d;var o=/^v[0-5]\./;function d(S,x,T){typeof x=="function"&&(T=x,x=null);var R=o.test(process.version)?function(C,D,M,q){return f(C,_(C,D,M,q))}:function(C,D,M,q){return f(C,D,_(C,D,M,q))};return R(S,x,T);function _(k,C,D,M){return function(q,F){q&&(q.code==="EMFILE"||q.code==="ENFILE")?ce([R,[k,C,D],q,M||Date.now(),Date.now()]):(F&&F.sort&&F.sort(),typeof D=="function"&&D.call(this,q,F))}}}if(process.version.substr(0,4)==="v0.8"){var c=xo(e);p=c.ReadStream,w=c.WriteStream}var l=e.ReadStream;l&&(p.prototype=Object.create(l.prototype),p.prototype.open=g);var h=e.WriteStream;h&&(w.prototype=Object.create(h.prototype),w.prototype.open=b),Object.defineProperty(e,"ReadStream",{get:function(){return p},set:function(S){p=S},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return w},set:function(S){w=S},enumerable:!0,configurable:!0});var v=p;Object.defineProperty(e,"FileReadStream",{get:function(){return v},set:function(S){v=S},enumerable:!0,configurable:!0});var y=w;Object.defineProperty(e,"FileWriteStream",{get:function(){return y},set:function(S){y=S},enumerable:!0,configurable:!0});function p(S,x){return this instanceof p?(l.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function g(){var S=this;P(S.path,S.flags,S.mode,function(x,T){x?(S.autoClose&&S.destroy(),S.emit("error",x)):(S.fd=T,S.emit("open",T),S.read())})}function w(S,x){return this instanceof w?(h.apply(this,arguments),this):w.apply(Object.create(w.prototype),arguments)}function b(){var S=this;P(S.path,S.flags,S.mode,function(x,T){x?(S.destroy(),S.emit("error",x)):(S.fd=T,S.emit("open",T))})}function $(S,x){return new e.ReadStream(S,x)}function E(S,x){return new e.WriteStream(S,x)}var O=e.open;e.open=P;function P(S,x,T,R){return typeof T=="function"&&(R=T,T=null),_(S,x,T,R);function _(k,C,D,M,q){return O(k,C,D,function(F,Qa){F&&(F.code==="EMFILE"||F.code==="ENFILE")?ce([_,[k,C,D,M],F,q||Date.now(),Date.now()]):typeof M=="function"&&M.apply(this,arguments)})}}return e}function ce(e){ae("ENQUEUE",e[0].name,e[1]),A[Y].push(e),sr()}var Ce;function Ui(){for(var e=Date.now(),t=0;t<A[Y].length;++t)A[Y][t].length>2&&(A[Y][t][3]=e,A[Y][t][4]=e);sr()}function sr(){if(clearTimeout(Ce),Ce=void 0,A[Y].length!==0){var e=A[Y].shift(),t=e[0],r=e[1],i=e[2],s=e[3],u=e[4];if(s===void 0)ae("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-s>=6e4){ae("TIMEOUT",t.name,r);var n=r.pop();typeof n=="function"&&n.call(null,i)}else{var m=Date.now()-u,a=Math.max(u-s,1),f=Math.min(a*1.2,100);m>=f?(ae("RETRY",t.name,r),t.apply(null,r.concat([s]))):A[Y].push(e)}Ce===void 0&&(Ce=setTimeout(sr,0))}}(function(e){const t=V.fromCallback,r=W,i=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(s=>typeof r[s]=="function");Object.assign(e,r),i.forEach(s=>{e[s]=t(r[s])}),e.exists=function(s,u){return typeof u=="function"?r.exists(s,u):new Promise(n=>r.exists(s,n))},e.read=function(s,u,n,m,a,f){return typeof f=="function"?r.read(s,u,n,m,a,f):new Promise((o,d)=>{r.read(s,u,n,m,a,(c,l,h)=>{if(c)return d(c);o({bytesRead:l,buffer:h})})})},e.write=function(s,u,...n){return typeof n[n.length-1]=="function"?r.write(s,u,...n):new Promise((m,a)=>{r.write(s,u,...n,(f,o,d)=>{if(f)return a(f);m({bytesWritten:o,buffer:d})})})},typeof r.writev=="function"&&(e.writev=function(s,u,...n){return typeof n[n.length-1]=="function"?r.writev(s,u,...n):new Promise((m,a)=>{r.writev(s,u,...n,(f,o,d)=>{if(f)return a(f);m({bytesWritten:o,buffers:d})})})}),typeof r.realpath.native=="function"?e.realpath.native=t(r.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")})(ue);var nr={},Gi={};const To=U;Gi.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(To.parse(t).root,""))){const i=new Error(`Path contains invalid characters: ${t}`);throw i.code="EINVAL",i}};const Ki=ue,{checkPath:zi}=Gi,Zi=e=>{const t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};nr.makeDir=async(e,t)=>(zi(e),Ki.mkdir(e,{mode:Zi(t),recursive:!0})),nr.makeDirSync=(e,t)=>(zi(e),Ki.mkdirSync(e,{mode:Zi(t),recursive:!0}));const Mo=V.fromPromise,{makeDir:Do,makeDirSync:or}=nr,ur=Mo(Do);var X={mkdirs:ur,mkdirsSync:or,mkdirp:ur,mkdirpSync:or,ensureDir:ur,ensureDirSync:or};const _o=V.fromPromise,Xi=ue;function ko(e){return Xi.access(e).then(()=>!0).catch(()=>!1)}var le={pathExists:_o(ko),pathExistsSync:Xi.existsSync};const de=W;function Co(e,t,r,i){de.open(e,"r+",(s,u)=>{if(s)return i(s);de.futimes(u,t,r,n=>{de.close(u,m=>{i&&i(n||m)})})})}function Ro(e,t,r){const i=de.openSync(e,"r+");return de.futimesSync(i,t,r),de.closeSync(i)}var Qi={utimesMillis:Co,utimesMillisSync:Ro};const fe=ue,L=U,Fo=Er;function Io(e,t,r){const i=r.dereference?s=>fe.stat(s,{bigint:!0}):s=>fe.lstat(s,{bigint:!0});return Promise.all([i(e),i(t).catch(s=>{if(s.code==="ENOENT")return null;throw s})]).then(([s,u])=>({srcStat:s,destStat:u}))}function qo(e,t,r){let i;const s=r.dereference?n=>fe.statSync(n,{bigint:!0}):n=>fe.lstatSync(n,{bigint:!0}),u=s(e);try{i=s(t)}catch(n){if(n.code==="ENOENT")return{srcStat:u,destStat:null};throw n}return{srcStat:u,destStat:i}}function Ao(e,t,r,i,s){Fo.callbackify(Io)(e,t,i,(u,n)=>{if(u)return s(u);const{srcStat:m,destStat:a}=n;if(a){if(ve(m,a)){const f=L.basename(e),o=L.basename(t);return r==="move"&&f!==o&&f.toLowerCase()===o.toLowerCase()?s(null,{srcStat:m,destStat:a,isChangingCase:!0}):s(new Error("Source and destination must not be the same."))}if(m.isDirectory()&&!a.isDirectory())return s(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!m.isDirectory()&&a.isDirectory())return s(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return m.isDirectory()&&ar(e,t)?s(new Error(Re(e,t,r))):s(null,{srcStat:m,destStat:a})})}function No(e,t,r,i){const{srcStat:s,destStat:u}=qo(e,t,i);if(u){if(ve(s,u)){const n=L.basename(e),m=L.basename(t);if(r==="move"&&n!==m&&n.toLowerCase()===m.toLowerCase())return{srcStat:s,destStat:u,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(s.isDirectory()&&!u.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!s.isDirectory()&&u.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(s.isDirectory()&&ar(e,t))throw new Error(Re(e,t,r));return{srcStat:s,destStat:u}}function es(e,t,r,i,s){const u=L.resolve(L.dirname(e)),n=L.resolve(L.dirname(r));if(n===u||n===L.parse(n).root)return s();fe.stat(n,{bigint:!0},(m,a)=>m?m.code==="ENOENT"?s():s(m):ve(t,a)?s(new Error(Re(e,r,i))):es(e,t,n,i,s))}function ts(e,t,r,i){const s=L.resolve(L.dirname(e)),u=L.resolve(L.dirname(r));if(u===s||u===L.parse(u).root)return;let n;try{n=fe.statSync(u,{bigint:!0})}catch(m){if(m.code==="ENOENT")return;throw m}if(ve(t,n))throw new Error(Re(e,r,i));return ts(e,t,u,i)}function ve(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function ar(e,t){const r=L.resolve(e).split(L.sep).filter(s=>s),i=L.resolve(t).split(L.sep).filter(s=>s);return r.reduce((s,u,n)=>s&&i[n]===u,!0)}function Re(e,t,r){return`Cannot ${r} '${e}' to a subdirectory of itself, '${t}'.`}var me={checkPaths:Ao,checkPathsSync:No,checkParentPaths:es,checkParentPathsSync:ts,isSrcSubdir:ar,areIdentical:ve};const J=W,we=U,jo=X.mkdirs,Lo=le.pathExists,Yo=Qi.utimesMillis,Se=me;function Ho(e,t,r,i){typeof r=="function"&&!i?(i=r,r={}):typeof r=="function"&&(r={filter:r}),i=i||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0001"),Se.checkPaths(e,t,"copy",r,(s,u)=>{if(s)return i(s);const{srcStat:n,destStat:m}=u;Se.checkParentPaths(e,n,t,"copy",a=>a?i(a):r.filter?is(rs,m,e,t,r,i):rs(m,e,t,r,i))})}function rs(e,t,r,i,s){const u=we.dirname(r);Lo(u,(n,m)=>{if(n)return s(n);if(m)return Fe(e,t,r,i,s);jo(u,a=>a?s(a):Fe(e,t,r,i,s))})}function is(e,t,r,i,s,u){Promise.resolve(s.filter(r,i)).then(n=>n?e(t,r,i,s,u):u(),n=>u(n))}function Vo(e,t,r,i,s){return i.filter?is(Fe,e,t,r,i,s):Fe(e,t,r,i,s)}function Fe(e,t,r,i,s){(i.dereference?J.stat:J.lstat)(t,(n,m)=>n?s(n):m.isDirectory()?zo(m,e,t,r,i,s):m.isFile()||m.isCharacterDevice()||m.isBlockDevice()?Wo(m,e,t,r,i,s):m.isSymbolicLink()?Qo(e,t,r,i,s):m.isSocket()?s(new Error(`Cannot copy a socket file: ${t}`)):m.isFIFO()?s(new Error(`Cannot copy a FIFO pipe: ${t}`)):s(new Error(`Unknown file: ${t}`)))}function Wo(e,t,r,i,s,u){return t?Bo(e,r,i,s,u):ss(e,r,i,s,u)}function Bo(e,t,r,i,s){if(i.overwrite)J.unlink(r,u=>u?s(u):ss(e,t,r,i,s));else return i.errorOnExist?s(new Error(`'${r}' already exists`)):s()}function ss(e,t,r,i,s){J.copyFile(t,r,u=>u?s(u):i.preserveTimestamps?Jo(e.mode,t,r,s):Ie(r,e.mode,s))}function Jo(e,t,r,i){return Uo(e)?Go(r,e,s=>s?i(s):ns(e,t,r,i)):ns(e,t,r,i)}function Uo(e){return(e&128)===0}function Go(e,t,r){return Ie(e,t|128,r)}function ns(e,t,r,i){Ko(t,r,s=>s?i(s):Ie(r,e,i))}function Ie(e,t,r){return J.chmod(e,t,r)}function Ko(e,t,r){J.stat(e,(i,s)=>i?r(i):Yo(t,s.atime,s.mtime,r))}function zo(e,t,r,i,s,u){return t?os(r,i,s,u):Zo(e.mode,r,i,s,u)}function Zo(e,t,r,i,s){J.mkdir(r,u=>{if(u)return s(u);os(t,r,i,n=>n?s(n):Ie(r,e,s))})}function os(e,t,r,i){J.readdir(e,(s,u)=>s?i(s):us(u,e,t,r,i))}function us(e,t,r,i,s){const u=e.pop();return u?Xo(e,u,t,r,i,s):s()}function Xo(e,t,r,i,s,u){const n=we.join(r,t),m=we.join(i,t);Se.checkPaths(n,m,"copy",s,(a,f)=>{if(a)return u(a);const{destStat:o}=f;Vo(o,n,m,s,d=>d?u(d):us(e,r,i,s,u))})}function Qo(e,t,r,i,s){J.readlink(t,(u,n)=>{if(u)return s(u);if(i.dereference&&(n=we.resolve(process.cwd(),n)),e)J.readlink(r,(m,a)=>m?m.code==="EINVAL"||m.code==="UNKNOWN"?J.symlink(n,r,s):s(m):(i.dereference&&(a=we.resolve(process.cwd(),a)),Se.isSrcSubdir(n,a)?s(new Error(`Cannot copy '${n}' to a subdirectory of itself, '${a}'.`)):e.isDirectory()&&Se.isSrcSubdir(a,n)?s(new Error(`Cannot overwrite '${a}' with '${n}'.`)):eu(n,r,s)));else return J.symlink(n,r,s)})}function eu(e,t,r){J.unlink(t,i=>i?r(i):J.symlink(e,t,r))}var tu=Ho;const H=W,be=U,ru=X.mkdirsSync,iu=Qi.utimesMillisSync,$e=me;function su(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning(`Using the preserveTimestamps option in 32-bit node is not recommended;

	see https://github.com/jprichardson/node-fs-extra/issues/269`,"Warning","fs-extra-WARN0002");const{srcStat:i,destStat:s}=$e.checkPathsSync(e,t,"copy",r);return $e.checkParentPathsSync(e,i,t,"copy"),nu(s,e,t,r)}function nu(e,t,r,i){if(i.filter&&!i.filter(t,r))return;const s=be.dirname(r);return H.existsSync(s)||ru(s),as(e,t,r,i)}function ou(e,t,r,i){if(!(i.filter&&!i.filter(t,r)))return as(e,t,r,i)}function as(e,t,r,i){const u=(i.dereference?H.statSync:H.lstatSync)(t);if(u.isDirectory())return fu(u,e,t,r,i);if(u.isFile()||u.isCharacterDevice()||u.isBlockDevice())return uu(u,e,t,r,i);if(u.isSymbolicLink())return yu(e,t,r,i);throw u.isSocket()?new Error(`Cannot copy a socket file: ${t}`):u.isFIFO()?new Error(`Cannot copy a FIFO pipe: ${t}`):new Error(`Unknown file: ${t}`)}function uu(e,t,r,i,s){return t?au(e,r,i,s):ls(e,r,i,s)}function au(e,t,r,i){if(i.overwrite)return H.unlinkSync(r),ls(e,t,r,i);if(i.errorOnExist)throw new Error(`'${r}' already exists`)}function ls(e,t,r,i){return H.copyFileSync(t,r),i.preserveTimestamps&&lu(e.mode,t,r),lr(r,e.mode)}function lu(e,t,r){return hu(e)&&cu(r,e),du(t,r)}function hu(e){return(e&128)===0}function cu(e,t){return lr(e,t|128)}function lr(e,t){return H.chmodSync(e,t)}function du(e,t){const r=H.statSync(e);return iu(t,r.atime,r.mtime)}function fu(e,t,r,i,s){return t?hs(r,i,s):mu(e.mode,r,i,s)}function mu(e,t,r,i){return H.mkdirSync(r),hs(t,r,i),lr(r,e)}function hs(e,t,r){H.readdirSync(e).forEach(i=>pu(i,e,t,r))}function pu(e,t,r,i){const s=be.join(t,e),u=be.join(r,e),{destStat:n}=$e.checkPathsSync(s,u,"copy",i);return ou(n,s,u,i)}function yu(e,t,r,i){let s=H.readlinkSync(t);if(i.dereference&&(s=be.resolve(process.cwd(),s)),e){let u;try{u=H.readlinkSync(r)}catch(n){if(n.code==="EINVAL"||n.code==="UNKNOWN")return H.symlinkSync(s,r);throw n}if(i.dereference&&(u=be.resolve(process.cwd(),u)),$e.isSrcSubdir(s,u))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${u}'.`);if(H.statSync(r).isDirectory()&&$e.isSrcSubdir(u,s))throw new Error(`Cannot overwrite '${u}' with '${s}'.`);return gu(s,r)}else return H.symlinkSync(s,r)}function gu(e,t){return H.unlinkSync(t),H.symlinkSync(e,t)}var vu=su;const wu=V.fromCallback;var hr={copy:wu(tu),copySync:vu};const cs=W,ds=U,I=Or,xe=process.platform==="win32";function fs(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||cs[r],r=r+"Sync",e[r]=e[r]||cs[r]}),e.maxBusyTries=e.maxBusyTries||3}function cr(e,t,r){let i=0;typeof t=="function"&&(r=t,t={}),I(e,"rimraf: missing path"),I.strictEqual(typeof e,"string","rimraf: path should be a string"),I.strictEqual(typeof r,"function","rimraf: callback function required"),I(t,"rimraf: invalid options argument provided"),I.strictEqual(typeof t,"object","rimraf: options should be object"),fs(t),ms(e,t,function s(u){if(u){if((u.code==="EBUSY"||u.code==="ENOTEMPTY"||u.code==="EPERM")&&i<t.maxBusyTries){i++;const n=i*100;return setTimeout(()=>ms(e,t,s),n)}u.code==="ENOENT"&&(u=null)}r(u)})}function ms(e,t,r){I(e),I(t),I(typeof r=="function"),t.lstat(e,(i,s)=>{if(i&&i.code==="ENOENT")return r(null);if(i&&i.code==="EPERM"&&xe)return ps(e,t,i,r);if(s&&s.isDirectory())return qe(e,t,i,r);t.unlink(e,u=>{if(u){if(u.code==="ENOENT")return r(null);if(u.code==="EPERM")return xe?ps(e,t,u,r):qe(e,t,u,r);if(u.code==="EISDIR")return qe(e,t,u,r)}return r(u)})})}function ps(e,t,r,i){I(e),I(t),I(typeof i=="function"),t.chmod(e,438,s=>{s?i(s.code==="ENOENT"?null:r):t.stat(e,(u,n)=>{u?i(u.code==="ENOENT"?null:r):n.isDirectory()?qe(e,t,r,i):t.unlink(e,i)})})}function ys(e,t,r){let i;I(e),I(t);try{t.chmodSync(e,438)}catch(s){if(s.code==="ENOENT")return;throw r}try{i=t.statSync(e)}catch(s){if(s.code==="ENOENT")return;throw r}i.isDirectory()?Ae(e,t,r):t.unlinkSync(e)}function qe(e,t,r,i){I(e),I(t),I(typeof i=="function"),t.rmdir(e,s=>{s&&(s.code==="ENOTEMPTY"||s.code==="EEXIST"||s.code==="EPERM")?Su(e,t,i):s&&s.code==="ENOTDIR"?i(r):i(s)})}function Su(e,t,r){I(e),I(t),I(typeof r=="function"),t.readdir(e,(i,s)=>{if(i)return r(i);let u=s.length,n;if(u===0)return t.rmdir(e,r);s.forEach(m=>{cr(ds.join(e,m),t,a=>{if(!n){if(a)return r(n=a);--u===0&&t.rmdir(e,r)}})})})}function gs(e,t){let r;t=t||{},fs(t),I(e,"rimraf: missing path"),I.strictEqual(typeof e,"string","rimraf: path should be a string"),I(t,"rimraf: missing options"),I.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(i){if(i.code==="ENOENT")return;i.code==="EPERM"&&xe&&ys(e,t,i)}try{r&&r.isDirectory()?Ae(e,t,null):t.unlinkSync(e)}catch(i){if(i.code==="ENOENT")return;if(i.code==="EPERM")return xe?ys(e,t,i):Ae(e,t,i);if(i.code!=="EISDIR")throw i;Ae(e,t,i)}}function Ae(e,t,r){I(e),I(t);try{t.rmdirSync(e)}catch(i){if(i.code==="ENOTDIR")throw r;if(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")bu(e,t);else if(i.code!=="ENOENT")throw i}}function bu(e,t){if(I(e),I(t),t.readdirSync(e).forEach(r=>gs(ds.join(e,r),t)),xe){const r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}var $u=cr;cr.sync=gs;const Ne=W,xu=V.fromCallback,vs=$u;function Eu(e,t){if(Ne.rm)return Ne.rm(e,{recursive:!0,force:!0},t);vs(e,t)}function Ou(e){if(Ne.rmSync)return Ne.rmSync(e,{recursive:!0,force:!0});vs.sync(e)}var je={remove:xu(Eu),removeSync:Ou};const Pu=V.fromPromise,ws=ue,Ss=U,bs=X,$s=je,xs=Pu(async function(t){let r;try{r=await ws.readdir(t)}catch{return bs.mkdirs(t)}return Promise.all(r.map(i=>$s.remove(Ss.join(t,i))))});function Es(e){let t;try{t=ws.readdirSync(e)}catch{return bs.mkdirsSync(e)}t.forEach(r=>{r=Ss.join(e,r),$s.removeSync(r)})}var Tu={emptyDirSync:Es,emptydirSync:Es,emptyDir:xs,emptydir:xs};const Mu=V.fromCallback,Os=U,se=W,Ps=X;function Du(e,t){function r(){se.writeFile(e,"",i=>{if(i)return t(i);t()})}se.stat(e,(i,s)=>{if(!i&&s.isFile())return t();const u=Os.dirname(e);se.stat(u,(n,m)=>{if(n)return n.code==="ENOENT"?Ps.mkdirs(u,a=>{if(a)return t(a);r()}):t(n);m.isDirectory()?r():se.readdir(u,a=>{if(a)return t(a)})})})}function _u(e){let t;try{t=se.statSync(e)}catch{}if(t&&t.isFile())return;const r=Os.dirname(e);try{se.statSync(r).isDirectory()||se.readdirSync(r)}catch(i){if(i&&i.code==="ENOENT")Ps.mkdirsSync(r);else throw i}se.writeFileSync(e,"")}var ku={createFile:Mu(Du),createFileSync:_u};const Cu=V.fromCallback,Ts=U,ne=W,Ms=X,Ru=le.pathExists,{areIdentical:Ds}=me;function Fu(e,t,r){function i(s,u){ne.link(s,u,n=>{if(n)return r(n);r(null)})}ne.lstat(t,(s,u)=>{ne.lstat(e,(n,m)=>{if(n)return n.message=n.message.replace("lstat","ensureLink"),r(n);if(u&&Ds(m,u))return r(null);const a=Ts.dirname(t);Ru(a,(f,o)=>{if(f)return r(f);if(o)return i(e,t);Ms.mkdirs(a,d=>{if(d)return r(d);i(e,t)})})})})}function Iu(e,t){let r;try{r=ne.lstatSync(t)}catch{}try{const u=ne.lstatSync(e);if(r&&Ds(u,r))return}catch(u){throw u.message=u.message.replace("lstat","ensureLink"),u}const i=Ts.dirname(t);return ne.existsSync(i)||Ms.mkdirsSync(i),ne.linkSync(e,t)}var qu={createLink:Cu(Fu),createLinkSync:Iu};const oe=U,Ee=W,Au=le.pathExists;function Nu(e,t,r){if(oe.isAbsolute(e))return Ee.lstat(e,i=>i?(i.message=i.message.replace("lstat","ensureSymlink"),r(i)):r(null,{toCwd:e,toDst:e}));{const i=oe.dirname(t),s=oe.join(i,e);return Au(s,(u,n)=>u?r(u):n?r(null,{toCwd:s,toDst:e}):Ee.lstat(e,m=>m?(m.message=m.message.replace("lstat","ensureSymlink"),r(m)):r(null,{toCwd:e,toDst:oe.relative(i,e)})))}}function ju(e,t){let r;if(oe.isAbsolute(e)){if(r=Ee.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{const i=oe.dirname(t),s=oe.join(i,e);if(r=Ee.existsSync(s),r)return{toCwd:s,toDst:e};if(r=Ee.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:oe.relative(i,e)}}}var Lu={symlinkPaths:Nu,symlinkPathsSync:ju};const _s=W;function Yu(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);_s.lstat(e,(i,s)=>{if(i)return r(null,"file");t=s&&s.isDirectory()?"dir":"file",r(null,t)})}function Hu(e,t){let r;if(t)return t;try{r=_s.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}var Vu={symlinkType:Yu,symlinkTypeSync:Hu};const Wu=V.fromCallback,ks=U,K=ue,Cs=X,Bu=Cs.mkdirs,Ju=Cs.mkdirsSync,Rs=Lu,Uu=Rs.symlinkPaths,Gu=Rs.symlinkPathsSync,Fs=Vu,Ku=Fs.symlinkType,zu=Fs.symlinkTypeSync,Zu=le.pathExists,{areIdentical:Is}=me;function Xu(e,t,r,i){i=typeof r=="function"?r:i,r=typeof r=="function"?!1:r,K.lstat(t,(s,u)=>{!s&&u.isSymbolicLink()?Promise.all([K.stat(e),K.stat(t)]).then(([n,m])=>{if(Is(n,m))return i(null);qs(e,t,r,i)}):qs(e,t,r,i)})}function qs(e,t,r,i){Uu(e,t,(s,u)=>{if(s)return i(s);e=u.toDst,Ku(u.toCwd,r,(n,m)=>{if(n)return i(n);const a=ks.dirname(t);Zu(a,(f,o)=>{if(f)return i(f);if(o)return K.symlink(e,t,m,i);Bu(a,d=>{if(d)return i(d);K.symlink(e,t,m,i)})})})})}function Qu(e,t,r){let i;try{i=K.lstatSync(t)}catch{}if(i&&i.isSymbolicLink()){const m=K.statSync(e),a=K.statSync(t);if(Is(m,a))return}const s=Gu(e,t);e=s.toDst,r=zu(s.toCwd,r);const u=ks.dirname(t);return K.existsSync(u)||Ju(u),K.symlinkSync(e,t,r)}var ea={createSymlink:Wu(Xu),createSymlinkSync:Qu};const{createFile:As,createFileSync:Ns}=ku,{createLink:js,createLinkSync:Ls}=qu,{createSymlink:Ys,createSymlinkSync:Hs}=ea;var ta={createFile:As,createFileSync:Ns,ensureFile:As,ensureFileSync:Ns,createLink:js,createLinkSync:Ls,ensureLink:js,ensureLinkSync:Ls,createSymlink:Ys,createSymlinkSync:Hs,ensureSymlink:Ys,ensureSymlinkSync:Hs};function ra(e,{EOL:t=`
`,finalEOL:r=!0,replacer:i=null,spaces:s}={}){const u=r?t:"";return JSON.stringify(e,i,s).replace(/\n/g,t)+u}function ia(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}var dr={stringify:ra,stripBom:ia};let pe;try{pe=W}catch{pe=xr}const Le=V,{stringify:Vs,stripBom:Ws}=dr;async function sa(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||pe,i="throws"in t?t.throws:!0;let s=await Le.fromCallback(r.readFile)(e,t);s=Ws(s);let u;try{u=JSON.parse(s,t?t.reviver:null)}catch(n){if(i)throw n.message=`${e}: ${n.message}`,n;return null}return u}const na=Le.fromPromise(sa);function oa(e,t={}){typeof t=="string"&&(t={encoding:t});const r=t.fs||pe,i="throws"in t?t.throws:!0;try{let s=r.readFileSync(e,t);return s=Ws(s),JSON.parse(s,t.reviver)}catch(s){if(i)throw s.message=`${e}: ${s.message}`,s;return null}}async function ua(e,t,r={}){const i=r.fs||pe,s=Vs(t,r);await Le.fromCallback(i.writeFile)(e,s,r)}const aa=Le.fromPromise(ua);function la(e,t,r={}){const i=r.fs||pe,s=Vs(t,r);return i.writeFileSync(e,s,r)}const ha={readFile:na,readFileSync:oa,writeFile:aa,writeFileSync:la};var ca=ha;const Ye=ca;var da={readJson:Ye.readFile,readJsonSync:Ye.readFileSync,writeJson:Ye.writeFile,writeJsonSync:Ye.writeFileSync};const fa=V.fromCallback,Oe=W,Bs=U,Js=X,ma=le.pathExists;function pa(e,t,r,i){typeof r=="function"&&(i=r,r="utf8");const s=Bs.dirname(e);ma(s,(u,n)=>{if(u)return i(u);if(n)return Oe.writeFile(e,t,r,i);Js.mkdirs(s,m=>{if(m)return i(m);Oe.writeFile(e,t,r,i)})})}function ya(e,...t){const r=Bs.dirname(e);if(Oe.existsSync(r))return Oe.writeFileSync(e,...t);Js.mkdirsSync(r),Oe.writeFileSync(e,...t)}var fr={outputFile:fa(pa),outputFileSync:ya};const{stringify:ga}=dr,{outputFile:va}=fr;async function wa(e,t,r={}){const i=ga(t,r);await va(e,i,r)}var Sa=wa;const{stringify:ba}=dr,{outputFileSync:$a}=fr;function xa(e,t,r){const i=ba(t,r);$a(e,i,r)}var Ea=xa;const Oa=V.fromPromise,B=da;B.outputJson=Oa(Sa),B.outputJsonSync=Ea,B.outputJSON=B.outputJson,B.outputJSONSync=B.outputJsonSync,B.writeJSON=B.writeJson,B.writeJSONSync=B.writeJsonSync,B.readJSON=B.readJson,B.readJSONSync=B.readJsonSync;var Pa=B;const Ta=W,mr=U,Ma=hr.copy,Us=je.remove,Da=X.mkdirp,_a=le.pathExists,Gs=me;function ka(e,t,r,i){typeof r=="function"&&(i=r,r={}),r=r||{};const s=r.overwrite||r.clobber||!1;Gs.checkPaths(e,t,"move",r,(u,n)=>{if(u)return i(u);const{srcStat:m,isChangingCase:a=!1}=n;Gs.checkParentPaths(e,m,t,"move",f=>{if(f)return i(f);if(Ca(t))return Ks(e,t,s,a,i);Da(mr.dirname(t),o=>o?i(o):Ks(e,t,s,a,i))})})}function Ca(e){const t=mr.dirname(e);return mr.parse(t).root===t}function Ks(e,t,r,i,s){if(i)return pr(e,t,r,s);if(r)return Us(t,u=>u?s(u):pr(e,t,r,s));_a(t,(u,n)=>u?s(u):n?s(new Error("dest already exists.")):pr(e,t,r,s))}function pr(e,t,r,i){Ta.rename(e,t,s=>s?s.code!=="EXDEV"?i(s):Ra(e,t,r,i):i())}function Ra(e,t,r,i){Ma(e,t,{overwrite:r,errorOnExist:!0},u=>u?i(u):Us(e,i))}var Fa=ka;const zs=W,yr=U,Ia=hr.copySync,Zs=je.removeSync,qa=X.mkdirpSync,Xs=me;function Aa(e,t,r){r=r||{};const i=r.overwrite||r.clobber||!1,{srcStat:s,isChangingCase:u=!1}=Xs.checkPathsSync(e,t,"move",r);return Xs.checkParentPathsSync(e,s,t,"move"),Na(t)||qa(yr.dirname(t)),ja(e,t,i,u)}function Na(e){const t=yr.dirname(e);return yr.parse(t).root===t}function ja(e,t,r,i){if(i)return gr(e,t,r);if(r)return Zs(t),gr(e,t,r);if(zs.existsSync(t))throw new Error("dest already exists.");return gr(e,t,r)}function gr(e,t,r){try{zs.renameSync(e,t)}catch(i){if(i.code!=="EXDEV")throw i;return La(e,t,r)}}function La(e,t,r){return Ia(e,t,{overwrite:r,errorOnExist:!0}),Zs(e)}var Ya=Aa;const Ha=V.fromCallback;var Va={move:Ha(Fa),moveSync:Ya},Pe={...ue,...hr,...Tu,...ta,...Pa,...X,...Va,...fr,...le,...je};function Qs(e){return e?.trim().replace(/\/+$/g,"")}function en(e){return/^(?:@[a-z0-9-*~][a-z0-9-*._~]*\/)?[a-z0-9-~][a-z0-9-._~]*$/.test(e)}function Wa(e){return e.trim().toLowerCase().replace(/\s+/g,"-").replace(/^[._]/,"").replace(/[^a-z0-9-~]+/g,"-")}function Ba(e){const t=ge.readdirSync(e);return t.length===0||t.length===1&&t[0]===".git"}function Ja(e){if(!e)return;const t=e.split(" ")[0].split("/");return{name:t[0],version:t[1]}}function Ua(e){if(ge.existsSync(e))for(const t of ge.readdirSync(e))t!==".git"&&ge.rmSync(G.resolve(e,t),{recursive:!0,force:!0})}let he=!0;const ye=typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{};let tn=0;if(ye.process&&ye.process.env&&ye.process.stdout){const{FORCE_COLOR:e,NODE_DISABLE_COLORS:t,TERM:r}=ye.process.env;t||e==="0"?he=!1:e==="1"?he=!0:r==="dumb"?he=!1:"CI"in ye.process.env&&["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(i=>i in ye.process.env)?he=!0:he=process.stdout.isTTY,he&&(tn=r&&r.endsWith("-256color")?2:1)}let rn={enabled:he,supportLevel:tn};function Te(e,t,r=1){const i=`\x1B[${e}m`,s=`\x1B[${t}m`,u=new RegExp(`\\x1b\\[${t}m`,"g");return n=>rn.enabled&&rn.supportLevel>=r?i+(""+n).replace(u,i)+s:""+n}const Me=Te(0,0),sn=Te(31,39),Ga=Te(32,39),Ka=Te(33,39),za=Te(34,39),nn=[{name:"vue",display:"Vue",color:Ga,variants:[{name:"vue",display:"JavaScript",color:Ka},{name:"vue-ts",display:"TypeScript",color:za}]}],on=nn.map(e=>e.variants&&e.variants.map(t=>t.name)||[e.name]).reduce((e,t)=>e.concat(t),[]),Za=["package.json","_gitignore"],vr=hn(process.argv.slice(2),{string:["_"]}),wr=process.cwd(),Sr="t-project";async function Xa(){const e=Qs(vr._[0]),t=vr.template||vr.t;let r=e||Sr;const i=()=>r==="."?G.basename(G.resolve()):r;let s;try{s=await co([{type:e?null:"text",name:"projectName",message:Me("Project name:"),initial:Sr,onState:y=>{r=Qs(y.value)||Sr}},{type:()=>!ge.existsSync(r)||Ba(r)?null:"confirm",name:"overwrite",message:()=>(r==="."?"Current directory":`Target directory "${r}"`)+" is not empty. Remove existing files and continue?"},{type:(y,{overwrite:p})=>{if(p===!1)throw new Error(sn("\u2716")+" Operation cancelled");return null},name:"overwriteChecker"},{type:()=>en(i())?null:"text",name:"packageName",message:Me("Package name:"),initial:()=>Wa(i()),validate:y=>en(y)||"Invalid package.json name"},{type:t&&on.includes(t)?null:"select",name:"framework",message:typeof t=="string"&&!on.includes(t)?Me(`"${t}" isn't a valid template. Please choose from below: `):Me("Select a framework:"),initial:0,choices:nn.map(y=>{const p=y.color;return{title:p(y.display||y.name),value:y}})},{type:y=>y&&y.variants?"select":null,name:"variant",message:Me("Select a variant:"),choices:y=>y.variants.map(p=>{const g=p.color;return{title:g(p.display||p.name),value:p.name}})}],{onCancel:()=>{throw new Error(sn("\u2716")+" Operation cancelled")}})}catch(y){console.log(y.message);return}const{framework:u,overwrite:n,packageName:m,variant:a}=s,f=G.join(wr,r);n&&Ua(f);const o=a||u||t,d=Ja(process.env.npm_config_user_agent),c=d?d.name:"npm";console.log(`
Scaffolding project in ${f}...`);const l=G.resolve(ln(import.meta.url),"../../template",`template-${o}`);console.log(l),Pe.copySync(l,r,{filter:(y,p)=>!Za.find(g=>g===`${G.parse(y).name}${G.parse(y).ext}`)});const h=Pe.readFileSync(G.resolve(l,"_gitignore"));Pe.outputFile(G.join(f,".gitignore"),h);const v=Pe.readJsonSync(G.resolve(l,"package.json"));switch(v.name=m||i(),Pe.outputJSONSync(G.join(f,"package.json"),v,{spaces:2}),console.log(`
Done. Now run:
`),f!==wr&&console.log(`  cd ${G.relative(wr,f)}`),c){case"yarn":console.log("  yarn"),console.log("  yarn dev");break;default:console.log(`  ${c} install`),console.log(`  ${c} run dev`);break}console.log()}Xa().catch(e=>{console.error(e)});
